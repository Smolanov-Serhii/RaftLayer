var a,b,Gj;a=this,b=function($){var Fresco={};$.extend(Fresco,{version:"2.3.0"}),Fresco.Skins={fresco:{}};var Bounds={viewport:function(){var e,i={width:$(window).width()};return Browser.MobileSafari||Browser.Android&&Browser.Gecko?(e=document.documentElement.clientWidth/window.innerWidth,i.height=window.innerHeight*e):i.height=$(window).height(),i}},Browser=(e=navigator.userAgent,{IE:!(!window.attachEvent||-1!==e.indexOf("Opera"))&&f("MSIE "),Opera:-1<e.indexOf("Opera")&&(!!window.opera&&opera.version&&parseFloat(opera.version())||7.55),WebKit:-1<e.indexOf("AppleWebKit/")&&f("AppleWebKit/"),Gecko:-1<e.indexOf("Gecko")&&-1===e.indexOf("KHTML")&&f("rv:"),MobileSafari:!!e.match(/Apple.*Mobile.*Safari/),Chrome:-1<e.indexOf("Chrome")&&f("Chrome/"),ChromeMobile:-1<e.indexOf("CrMo")&&f("CrMo/"),Android:-1<e.indexOf("Android")&&f("Android "),IEMobile:-1<e.indexOf("IEMobile")&&f("IEMobile/")}),e;function f(i){i=new RegExp(i+"([\\d.]+)").exec(e);return!i||parseFloat(i[1])}var _slice=Array.prototype.slice;function baseToString(e){return"string"==typeof e?e:null==e?"":e+""}var _={isElement:function(e){return e&&1===e.nodeType},String:{capitalize:function(e){return(e=baseToString(e))&&e.charAt(0).toUpperCase()+e.slice(1)}}};$(document.documentElement).on("mousewheel DOMMouseScroll",function(e){var i,t;e.originalEvent.wheelDelta?i=e.originalEvent.wheelDelta/120:e.originalEvent.detail&&(i=-e.originalEvent.detail/3),i&&(t=$.Event("fresco:mousewheel"),$(e.target).trigger(t,i),t.isPropagationStopped()&&e.stopPropagation(),t.isDefaultPrevented()&&e.preventDefault())});var Fit={within:function(e,i){for(var t,s=$.extend({height:!0,width:!0},arguments[2]||{}),n=$.extend({},i),o=5,a=s.width,r=s.height;0<o&&(a&&n.width>e.width||r&&n.height>e.height);){var h=1,l=1;a&&n.width>e.width&&(h=e.width/n.width),r&&n.height>e.height&&(l=e.height/n.height),t=Math.min(h,l),n={width:i.width*t,height:i.height*t},o--}return n.width=Math.max(n.width,0),n.height=Math.max(n.height,0),n}};$.extend($.easing,{frescoEaseInCubic:function(e,i,t,s,n){return s*(i/=n)*i*i+t},frescoEaseInSine:function(e,i,t,s,n){return-s*Math.cos(i/n*(Math.PI/2))+s+t},frescoEaseOutSine:function(e,i,t,s,n){return s*Math.sin(i/n*(Math.PI/2))+t}});var Support=(O=document.createElement("div"),P="Webkit Moz O ms Khtml".split(" "),{canvas:(ba=document.createElement("canvas"),!(!ba.getContext||!ba.getContext("2d"))),css:{animation:S("animation"),transform:S("transform"),prefixed:function(e){return S(e,"prefix")}},svg:!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,touch:function(){try{return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}catch(e){return!1}}()}),ba,O,P;function S(e,i){var t=e.charAt(0).toUpperCase()+e.substr(1);return function(e,i){for(var t in e)if(void 0!==O.style[e[t]])return"prefix"!==i||e[t];return!1}((e+" "+P.join(t+" ")+t).split(" "),i)}Support.detectMobileTouch=function(){Support.mobileTouch=Support.touch&&(Browser.MobileSafari||Browser.Android||Browser.IEMobile||Browser.ChromeMobile||!/^(Win|Mac|Linux)/.test(navigator.platform))},Support.detectMobileTouch();var ImageReady=function(){return this.initialize.apply(this,Array.prototype.slice.call(arguments))};function Timers(){return this.initialize.apply(this,_slice.call(arguments))}function getURIData(t){var s={type:"image"};return $.each(Types,function(e,i){i=i.data(t);i&&((s=i).type=e,s.url=t)}),s}function detectExtension(e){e=(e||"").replace(/\?.*/g,"").match(/\.([^.]{3,4})$/);return e?e[1].toLowerCase():null}$.extend(ImageReady.prototype,{supports:{naturalWidth:"naturalWidth"in new Image},initialize:function(e,i,t){this.img=$(e)[0],this.successCallback=i,this.errorCallback=t,this.isLoaded=!1,this.options=$.extend({method:"naturalWidth",pollFallbackAfter:1e3},arguments[3]||{}),this.supports.naturalWidth&&"onload"!==this.options.method?this.img.complete&&"undefined"!==$.type(this.img.naturalWidth)?setTimeout($.proxy(function(){0<this.img.naturalWidth?this.success():this.error()},this)):($(this.img).bind("error",$.proxy(function(){setTimeout($.proxy(function(){this.error()},this))},this)),this.intervals=[[1e3,10],[2e3,50],[4e3,100],[2e4,500]],this._ipos=0,this._time=0,this._delay=this.intervals[this._ipos][1],this.poll()):setTimeout($.proxy(this.fallback,this))},poll:function(){this._polling=setTimeout($.proxy(function(){if(0<this.img.naturalWidth)this.success();else{if(this._time+=this._delay,this.options.pollFallbackAfter&&this._time>=this.options.pollFallbackAfter&&!this._usedPollFallback&&(this._usedPollFallback=!0,this.fallback()),this._time>this.intervals[this._ipos][0]){if(!this.intervals[this._ipos+1])return void this.error();this._ipos++,this._delay=this.intervals[this._ipos][1]}this.poll()}},this),this._delay)},fallback:function(){var e=new Image;(this._fallbackImg=e).onload=$.proxy(function(){e.onload=function(){},this.supports.naturalWidth||(this.img.naturalWidth=e.width,this.img.naturalHeight=e.height),this.success()},this),e.onerror=$.proxy(this.error,this),e.src=this.img.src},abort:function(){this._fallbackImg&&(this._fallbackImg.onload=function(){}),this._polling&&(clearTimeout(this._polling),this._polling=null)},success:function(){this._calledSuccess||(this._calledSuccess=!0,this.isLoaded=!0,this.successCallback(this))},error:function(){this._calledError||(this._calledError=!0,this.abort(),this.errorCallback&&this.errorCallback(this))}}),$.extend(Timers.prototype,{initialize:function(){this._timers={}},set:function(e,i,t){this._timers[e]=setTimeout(i,t)},get:function(e){return this._timers[e]},clear:function(e){e?this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]):this.clearAll()},clearAll:function(){$.each(this._timers,function(e,i){clearTimeout(i)}),this._timers={}}});var Type={isVideo:function(e){return/^(youtube|vimeo)$/.test(e)}},Types={image:{extensions:"bmp gif jpeg jpg png webp",detect:function(e){return-1<$.inArray(detectExtension(e),this.extensions.split(" "))},data:function(e){return!!this.detect()&&{extension:detectExtension(e)}}},vimeo:{detect:function(e){e=/(vimeo\.com)\/([a-zA-Z0-9-_]+)(?:\S+)?$/i.exec(e);return!(!e||!e[2])&&e[2]},data:function(e){e=this.detect(e);return!!e&&{id:e}}},youtube:{detect:function(e){var i=/(youtube\.com|youtu\.be)\/watch\?(?=.*vi?=([a-zA-Z0-9-_]+))(?:\S+)?$/.exec(e);return i&&i[2]?i[2]:!(!(i=/(youtube\.com|youtu\.be)\/(vi?\/|u\/|embed\/)?([a-zA-Z0-9-_]+)(?:\S+)?$/i.exec(e))||!i[3])&&i[3]},data:function(e){e=this.detect(e);return!!e&&{id:e}}}},VimeoThumbnail=function(){function e(){return this.initialize.apply(this,_slice.call(arguments))}$.extend(e.prototype,{initialize:function(e,i,t){this.url=e,this.successCallback=i,this.errorCallback=t,this.load()},load:function(){var e=t.get(this.url);if(e)return this.successCallback(e.data.url);var i="http"+(window.location&&"https:"===window.location.protocol?"s":"")+":",e=getURIData(this.url).id;this._xhr=$.getJSON(i+"//vimeo.com/api/oembed.json?url="+i+"//vimeo.com/"+e+"&callback=?",$.proxy(function(e){e&&e.thumbnail_url?(e={url:e.thumbnail_url},t.set(this.url,e),this.successCallback(e.url)):this.errorCallback()},this))},abort:function(){this._xhr&&(this._xhr.abort(),this._xhr=null)}});var t={cache:[],get:function(e){for(var i=null,t=0;t<this.cache.length;t++)this.cache[t]&&this.cache[t].url===e&&(i=this.cache[t]);return i},set:function(e,i){this.remove(e),this.cache.push({url:e,data:i})},remove:function(e){for(var i=0;i<this.cache.length;i++)this.cache[i]&&this.cache[i].url===e&&delete this.cache[i]}};return e}(),VimeoReady=function(){function e(){return this.initialize.apply(this,_slice.call(arguments))}$.extend(e.prototype,{initialize:function(e,i){this.url=e,this.callback=i,this.load()},load:function(){var e=t.get(this.url);if(e)return this.callback(e.data);var i="http"+(window.location&&"https:"===window.location.protocol?"s":"")+":",e=getURIData(this.url).id;this._xhr=$.getJSON(i+"//vimeo.com/api/oembed.json?url="+i+"//vimeo.com/"+e+"&maxwidth=9999999&maxheight=9999999&callback=?",$.proxy(function(e){e={dimensions:{width:e.width,height:e.height}};t.set(this.url,e),this.callback&&this.callback(e)},this))},abort:function(){this._xhr&&(this._xhr.abort(),this._xhr=null)}});var t={cache:[],get:function(e){for(var i=null,t=0;t<this.cache.length;t++)this.cache[t]&&this.cache[t].url===e&&(i=this.cache[t]);return i},set:function(e,i){this.remove(e),this.cache.push({url:e,data:i})},remove:function(e){for(var i=0;i<this.cache.length;i++)this.cache[i]&&this.cache[i].url===e&&delete this.cache[i]}};return e}(),Options={defaults:{effects:{content:{show:0,hide:0},spinner:{show:150,hide:150},window:{show:440,hide:300},thumbnail:{show:300,delay:150},thumbnails:{slide:0}},keyboard:{left:!0,right:!0,esc:!0},loadedMethod:"naturalWidth",loop:!1,onClick:"previous-next",overflow:!1,overlay:{close:!0},preload:[1,2],position:!0,skin:"fresco",spinner:!0,spinnerDelay:300,sync:!0,thumbnails:"horizontal",ui:"outside",uiDelay:3e3,vimeo:{autoplay:1,api:1,title:1,byline:1,portrait:0,loop:0},youtube:{autoplay:1,controls:1,enablejsapi:1,hd:1,iv_load_policy:3,loop:0,modestbranding:1,rel:0,vq:"hd1080"},initialTypeOptions:{image:{},vimeo:{width:1280},youtube:{width:1280,height:720}}},create:function(e,i,t){t=t||{},(e=e||{}).skin=e.skin||this.defaults.skin;var s=e.skin?$.extend({},Fresco.Skins[e.skin]||Fresco.Skins[this.defaults.skin]):{},s=$.extend(!0,{},this.defaults,s);s.initialTypeOptions&&delete(s=i&&s.initialTypeOptions[i]?$.extend(!0,{},s.initialTypeOptions[i],s):s).initialTypeOptions;var n=$.extend(!0,{},s,e);if(Support.mobileTouch&&"inside"===n.ui&&(n.ui="outside"),(!n.effects||Browser.IE&&Browser.IE<9)&&(n.effects={},$.each(this.defaults.effects,function(i,e){$.each(n.effects[i]=$.extend({},e),function(e){n.effects[i][e]=0})}),n.spinner=!1),n.keyboard&&("boolean"===$.type(n.keyboard)&&(n.keyboard={},$.each(this.defaults.keyboard,function(e,i){n.keyboard[e]=!0})),"vimeo"!==i&&"youtube"!==i||$.extend(n.keyboard,{left:!1,right:!1})),!n.overflow||Support.mobileTouch?n.overflow={x:!1,y:!1}:"boolean"===$.type(n.overflow)&&(n.overflow={x:!1,y:!0}),"vimeo"!==i&&"youtube"!==i||(n.overlap=!1),(Browser.IE&&Browser.IE<9||Support.mobileTouch)&&(n.thumbnail=!1,n.thumbnails=!1),"youtube"!==i&&(n.width&&!n.maxWidth&&(n.maxWidth=n.width),n.height&&!n.maxHeight&&(n.maxHeight=n.height)),!n.thumbnail&&"boolean"!==$.type(n.thumbnail)){var o=!1;switch(i){case"youtube":o="http"+(window.location&&"https:"===window.location.protocol?"s":"")+"://img.youtube.com/vi/"+t.id+"/0.jpg";break;case"image":case"vimeo":o=!0}n.thumbnail=o}return n}},Overlay={initialize:function(){this.build(),this.visible=!1},build:function(){this.element=$("<div>").addClass("fr-overlay").hide().append($("<div>").addClass("fr-overlay-background")),this.element.on("click",$.proxy(function(){var e=Pages.page;e&&e.view&&e.view.options.overlay&&!e.view.options.overlay.close||Window.hide()},this)),Support.mobileTouch&&this.element.addClass("fr-mobile-touch"),this.element.on("fresco:mousewheel",function(e){e.preventDefault()})},setSkin:function(e){this.skin&&this.element.removeClass("fr-overlay-skin-"+this.skin),this.element.addClass("fr-overlay-skin-"+e),this.skin=e},attach:function(){$(document.body).append(this.element)},detach:function(){this.element.detach()},show:function(e,i){var t;this.visible?e&&e():(this.visible=!0,this.attach(),this.max(),t=Pages.page&&Pages.page.view.options.effects.window.show||0,t=("number"===$.type(i)?i:t)||0,this.element.stop(!0).fadeTo(t,1,e))},hide:function(e,i){var t;this.visible?(t=Pages.page&&Pages.page.view.options.effects.window.hide||0,t=("number"===$.type(i)?i:t)||0,this.element.stop(!0).fadeOut(t||0,$.proxy(function(){this.detach(),this.visible=!1,e&&e()},this))):e&&e()},getScrollDimensions:function(){var n={};return $.each(["width","height"],function(e,i){var t=i.substr(0,1).toUpperCase()+i.substr(1),s=document.documentElement;n[i]=(Browser.IE?Math.max(s["offset"+t],s["scroll"+t]):(Browser.WebKit?document.body:s)["scroll"+t])||0}),n},max:function(){var e,i;Browser.MobileSafari&&Browser.WebKit&&Browser.WebKit<533.18&&(e=this.getScrollDimensions(),this.element.css(e)),Browser.IE&&Browser.IE<9&&(i=Bounds.viewport(),this.element.css({height:i.height,width:i.width})),Support.mobileTouch&&!e&&this.element.css({height:this.getScrollDimensions().height})}},Window={initialize:function(){this.queues=[],this.queues.hide=$({}),this.pages=[],this._tracking=[],this._first=!0,this.timers=new Timers,this.build(),this.setSkin(Options.defaults.skin)},build:function(){if(this.element=$("<div>").addClass("fr-window fr-measured").hide().append(this._box=$("<div>").addClass("fr-box").append(this._pages=$("<div>").addClass("fr-pages"))).append(this._thumbnails=$("<div>").addClass("fr-thumbnails")),Overlay.initialize(),Pages.initialize(this._pages),Thumbnails.initialize(this._thumbnails),Spinner.initialize(),UI.initialize(),this.element.addClass("fr"+(Support.mobileTouch?"":"-no")+"-mobile-touch"),this.element.addClass("fr"+(Support.svg?"":"-no")+"-svg"),Browser.IE)for(var e=7;e<=9;e++)Browser.IE<e&&this.element.addClass("fr-ltIE"+e);this.element.on("fresco:mousewheel",function(e){e.preventDefault()})},attach:function(){this._attached||($(document.body).append(this.element),this._attached=!0)},detach:function(){this._attached&&(this.element.detach(),this._attached=!1)},setSkin:function(e){this._skin&&this.element.removeClass("fr-window-skin-"+this._skin),this.element.addClass("fr-window-skin-"+e),Overlay.setSkin(e),this._skin=e},setShowingType:function(e){this._showingType!==e&&(this._showingType&&(this.element.removeClass("fr-showing-type-"+this._showingType),Type.isVideo(this._showingType)&&this.element.removeClass("fr-showing-type-video")),this.element.addClass("fr-showing-type-"+e),Type.isVideo(e)&&this.element.addClass("fr-showing-type-video"),this._showingType=e)},startObservingResize:function(){this._onWindowResizeHandler||$(window).on("resize orientationchange",this._onWindowResizeHandler=$.proxy(this._onWindowResize,this))},stopObservingResize:function(){this._onWindowResizeHandler&&($(window).off("resize orientationchange",this._onWindowResizeHandler),this._onWindowResizeHandler=null)},_onScroll:function(){Support.mobileTouch&&this.timers.set("scroll",$.proxy(this.adjustToScroll,this),0)},_onWindowResize:function(){var e;(e=Pages.page)&&(Thumbnails.fitToViewport(),this.updateBoxDimensions(),e.fitToBox(),UI.update(),UI.adjustPrevNext(null,0),Spinner.center(),Overlay.max(),UI._onWindowResize(),this._onScroll())},adjustToScroll:function(){Support.mobileTouch&&this.element.css({top:$(window).scrollTop()})},getBoxDimensions:function(){return this._boxDimensions},updateBoxDimensions:function(){var e,i,t;Pages.page&&(e=Bounds.viewport(),i=Thumbnails.getDimensions(),t="horizontal"===Thumbnails._orientation,this._boxDimensions={width:t?e.width:e.width-i.width,height:t?e.height-i.height:e.height},this._boxPosition={top:0,left:t?0:i.width},this._box.css($.extend({},this._boxDimensions,this._boxPosition)))},show:function(e,i){var t,s;this.visible?e&&e():(this.visible=!0,this.opening=!0,this.attach(),this.timers.clear("show-window"),this.timers.clear("hide-overlay"),this.adjustToScroll(),t=("number"===$.type(i)?i:Pages.page&&Pages.page.view.options.effects.window.show)||0,s=2,Overlay[Pages.page&&Pages.page.view.options.overlay?"show":"hide"](function(){e&&--s<1&&e()},t),this.timers.set("show-window",$.proxy(function(){this._show($.proxy(function(){this.opening=!1,e&&--s<1&&e()},this),t)},this),1<t?Math.min(.5*t,50):1))},_show:function(e,i){i=("number"===$.type(i)?i:Pages.page&&Pages.page.view.options.effects.window.show)||0;this.element.stop(!0).fadeTo(i,1,e)},hide:function(i){var e,t;this.view&&((e=this.queues.hide).queue([]),this.timers.clear("show-window"),this.timers.clear("hide-overlay"),t=Pages.page?Pages.page.view.options.effects.window.hide:0,e.queue($.proxy(function(e){Pages.stop(),Spinner.hide(),e()},this)),e.queue($.proxy(function(e){UI.disable(),UI.hide(null,t),Keyboard.disable(),e()},this)),e.queue($.proxy(function(e){var i=2;this._hide(function(){--i<1&&e()},t),this.timers.set("hide-overlay",$.proxy(function(){Overlay.hide(function(){--i<1&&e()},t)},this),1<t?Math.min(.5*t,150):1),this._first=!0},this)),e.queue($.proxy(function(e){this._reset(),this.stopObservingResize(),Pages.removeAll(),Thumbnails.clear(),this.timers.clear(),this._position=-1;var i=Pages.page&&Pages.page.view.options.afterHide;"function"===$.type(i)&&i.call(Fresco),this.view=null,this.opening=!1,this.closing=!1,this.detach(),e()},this)),"function"===$.type(i)&&e.queue($.proxy(function(e){i(),e()},this)))},_hide:function(e,i){i=("number"===$.type(i)?i:Pages.page&&Pages.page.view.options.effects.window.hide)||0;this.element.stop(!0).fadeOut(i,e)},load:function(e,i){this.views=e,this.attach(),Thumbnails.load(e),Pages.load(e),this.startObservingResize(),i&&this.setPosition(i)},setPosition:function(e,i){this._position=e,this.view=this.views[e-1],this.stopHideQueue(),this.page=Pages.show(e,$.proxy(function(){i&&i()},this))},stopHideQueue:function(){this.queues.hide.queue([])},_reset:function(){this.visible=!1,UI.hide(null,0),UI.reset()},mayPrevious:function(){return this.view&&this.view.options.loop&&this.views&&1<this.views.length||1!==this._position},previous:function(e){var i=this.mayPrevious();(e||i)&&this.setPosition(this.getSurroundingIndexes().previous)},mayNext:function(){var e=this.views&&1<this.views.length;return this.view&&this.view.options.loop&&e||e&&1!==this.getSurroundingIndexes().next},next:function(e){var i=this.mayNext();(e||i)&&this.setPosition(this.getSurroundingIndexes().next)},getSurroundingIndexes:function(){if(!this.views)return{};var e=this._position,i=this.views.length;return{previous:e<=1?i:e-1,next:i<=e?1:e+1}}},Keyboard={enabled:!1,keyCode:{left:37,right:39,esc:27},enable:function(e){this.disable(),e&&($(document).on("keydown",this._onKeyDownHandler=$.proxy(this.onKeyDown,this)).on("keyup",this._onKeyUpHandler=$.proxy(this.onKeyUp,this)),this.enabled=e)},disable:function(){this.enabled=!1,this._onKeyUpHandler&&($(document).off("keyup",this._onKeyUpHandler).off("keydown",this._onKeyDownHandler),this._onKeyUpHandler=this._onKeyDownHandler=null)},onKeyDown:function(e){if(this.enabled){var i=this.getKeyByKeyCode(e.keyCode);if(i&&(!i||!this.enabled||this.enabled[i]))switch(e.preventDefault(),e.stopPropagation(),i){case"left":Window.previous();break;case"right":Window.next()}}},onKeyUp:function(e){this.enabled&&(!(e=this.getKeyByKeyCode(e.keyCode))||e&&this.enabled&&!this.enabled[e]||"esc"===e&&Window.hide())},getKeyByKeyCode:function(e){for(var i in this.keyCode)if(this.keyCode[i]===e)return i;return null}},Page=(Lc=0,Mc={},Nc=$("<div>").addClass("fr-stroke fr-stroke-top fr-stroke-horizontal").append($("<div>").addClass("fr-stroke-color")).add($("<div>").addClass("fr-stroke fr-stroke-bottom fr-stroke-horizontal").append($("<div>").addClass("fr-stroke-color"))).add($("<div>").addClass("fr-stroke fr-stroke-left fr-stroke-vertical").append($("<div>").addClass("fr-stroke-color"))).add($("<div>").addClass("fr-stroke fr-stroke-right fr-stroke-vertical").append($("<div>").addClass("fr-stroke-color"))),$.extend(Oc.prototype,{initialize:function(e,i,t){this.view=e,this.dimensions={width:0,height:0},this.uid=Lc++,this._position=i,this._total=t,this._fullClick=!1,this._visible=!1,this.queues={},this.queues.showhide=$({})},create:function(){var e,i;this._created||(Pages.element.append(this.element=$("<div>").addClass("fr-page").append(this.container=$("<div>").addClass("fr-container")).css({opacity:0}).hide()),(i=this.view.options.position&&1<this._total)&&this.element.addClass("fr-has-position"),(this.view.caption||i)&&(this.element.append(this.info=$("<div>").addClass("fr-info").append($("<div>").addClass("fr-info-background")).append(Nc.clone(!0)).append(this.infoPadder=$("<div>").addClass("fr-info-padder"))),i&&(this.element.addClass("fr-has-position"),this.infoPadder.append(this.pos=$("<div>").addClass("fr-position").append($("<span>").addClass("fr-position-text").html(this._position+" / "+this._total)))),this.view.caption&&this.infoPadder.append(this.caption=$("<div>").addClass("fr-caption").html(this.view.caption))),this.container.append(this.background=$("<div>").addClass("fr-content-background")).append(this.content=$("<div>").addClass("fr-content")),"image"==this.view.type&&(this.content.append(this.image=$("<img>").addClass("fr-content-element").attr({src:this.view.url})),this.content.append(Nc.clone(!0))),i&&"outside"==this.view.options.ui&&this.container.append(this.positionOutside=$("<div>").addClass("fr-position-outside").append($("<div>").addClass("fr-position-background")).append($("<span>").addClass("fr-position-text").html(this._position+" / "+this._total))),"inside"==this.view.options.ui&&(this.content.append(this.previousInside=$("<div>").addClass("fr-side fr-side-previous fr-toggle-ui").append($("<div>").addClass("fr-side-button").append($("<div>").addClass("fr-side-button-background")).append($("<div>").addClass("fr-side-button-icon")))).append(this.nextInside=$("<div>").addClass("fr-side fr-side-next fr-toggle-ui").append($("<div>").addClass("fr-side-button").append($("<div>").addClass("fr-side-button-background")).append($("<div>").addClass("fr-side-button-icon")))).append(this.closeInside=$("<div>").addClass("fr-close fr-toggle-ui").append($("<div>").addClass("fr-close-background")).append($("<div>").addClass("fr-close-icon"))),(this.view.caption||i&&this.view.grouped.caption)&&(this.content.append(this.infoInside=$("<div>").addClass("fr-info fr-toggle-ui").append($("<div>").addClass("fr-info-background")).append(Nc.clone(!0)).append(this.infoPadderInside=$("<div>").addClass("fr-info-padder"))),i&&this.infoPadderInside.append(this.posInside=$("<div>").addClass("fr-position").append($("<span>").addClass("fr-position-text").html(this._position+" / "+this._total))),this.view.caption&&this.infoPadderInside.append(this.captionInside=$("<div>").addClass("fr-caption").html(this.view.caption))),this.view.caption||!i||this.view.grouped.caption||this.content.append(this.positionInside=$("<div>").addClass("fr-position-inside fr-toggle-ui").append($("<div>").addClass("fr-position-background")).append($("<span>").addClass("fr-position-text").html(this._position+" / "+this._total))),e=this.view.options.loop&&1<this._total||1!=this._position,i=this.view.options.loop&&1<this._total||this._position<this._total,this.previousInside[(e?"remove":"add")+"Class"]("fr-side-disabled"),this.nextInside[(i?"remove":"add")+"Class"]("fr-side-disabled")),$.each(["x","y"],$.proxy(function(e,i){this.view.options.overflow[i]&&this.element.addClass("fr-overflow-"+i)},this)),this.element.addClass("fr-type-"+this.view.type),Type.isVideo(this.view.type)&&this.element.addClass("fr-type-video"),this._total<2&&this.element.addClass("fr-no-sides"),this._created=!0)},_getSurroundingPages:function(){var e;if(!(e=this.view.options.preload))return[];for(var i,t=[],s=Math.max(1,this._position-e[0]),n=Math.min(this._position+e[1],this._total),o=this._position,a=o;a<=n;a++)(i=Pages.pages[a-1])._position!=o&&t.push(i);for(a=o;s<=a;a--)(i=Pages.pages[a-1])._position!=o&&t.push(i);return t},preloadSurroundingImages:function(){var e=this._getSurroundingPages();$.each(e,$.proxy(function(e,i){i.preload()},this))},preload:function(){this.preloading||this.preloaded||"image"!=this.view.type||!this.view.options.preload||this.loaded||(this.create(),this.preloading=!0,this.preloadReady=new ImageReady(this.image[0],$.proxy(function(e){this.loaded=!0,Mc[this.view.url]=!0,this.preloading=!1,this.preloaded=!0,this.dimensions={width:e.img.naturalWidth,height:e.img.naturalHeight}},this),null,{method:"naturalWidth"}))},load:function(i,e){if(this.create(),this.loaded)i&&i();else switch(this.abort(),this.loading=!0,this.view.options.spinner&&(this._spinnerDelay=setTimeout($.proxy(function(){Spinner.show()},this),this.view.options.spinnerDelay||0)),this.view.type){case"image":if(this.error)return void(i&&i());this.imageReady=new ImageReady(this.image[0],$.proxy(function(e){this._markAsLoaded(),this.setDimensions({width:e.img.naturalWidth,height:e.img.naturalHeight}),i&&i()},this),$.proxy(function(){this._markAsLoaded(),this.image.hide(),this.content.prepend(this.error=$("<div>").addClass("fr-error fr-content-element").append($("<div>").addClass("fr-error-icon"))),this.element.addClass("fr-has-error"),this.setDimensions({width:this.error.outerWidth(),height:this.error.outerHeight()}),this.error.css({width:"100%",height:"100%"}),i&&i()},this),{method:this.view.options.loadedMethod});break;case"vimeo":this.vimeoReady=new VimeoReady(this.view.url,$.proxy(function(e){this._markAsLoaded(),this.setDimensions({width:e.dimensions.width,height:e.dimensions.height}),i&&i()},this));break;case"youtube":this._markAsLoaded(),this.setDimensions({width:this.view.options.width,height:this.view.options.height}),i&&i()}},setDimensions:function(e){this.dimensions=e,(this.view.options.maxWidth||this.view.options.maxHeight)&&(e={width:(e=this.view.options).maxWidth||this.dimensions.width,height:e.maxHeight||this.dimensions.height},this.dimensions=Fit.within(e,this.dimensions))},_markAsLoaded:function(){this._abortSpinnerDelay(),this.loading=!1,this.loaded=!0,Mc[this.view.url]=!0,Spinner.hide(null,null,this._position)},isVideo:function(){return Type.isVideo(this.view.type)},insertVideo:function(e){var i,t;!this.playerIframe&&this.isVideo()&&(i="http"+(window.location&&"https:"===window.location.protocol?"s":"")+":",t=$.extend({},this.view.options[this.view.type]||{}),t=$.param(t),t={vimeo:i+"//player.vimeo.com/video/{id}?{queryString}",youtube:i+"//www.youtube.com/embed/{id}?{queryString}"}[this.view.type].replace("{id}",this.view._data.id).replace("{queryString}",t),this.content.prepend(this.playerIframe=$("<iframe webkitAllowFullScreen mozallowfullscreen allowFullScreen>").addClass("fr-content-element").attr({src:t,height:this._contentDimensions.height,width:this._contentDimensions.width,frameborder:0}))),e&&e()},raise:function(){var e=Pages.element[0].lastChild;e&&e===this.element[0]||Pages.element.append(this.element)},show:function(i){var e=this.queues.showhide;e.queue([]),e.queue($.proxy(function(e){var i=this.view.options.spinner&&!Mc[this.view.url];Spinner._visible&&!i&&Spinner.hide(),Pages.stopInactive(),e()},this)),e.queue($.proxy(function(e){this.updateUI(),UI.set(this._ui),e()},this)),e.queue($.proxy(function(e){Keyboard.enable(this.view.options.keyboard),e()},this)),e.queue($.proxy(function(e){Spinner.setSkin(this.view.options.skin),this.load($.proxy(function(){this.preloadSurroundingImages(),e()},this))},this)),e.queue($.proxy(function(e){this.raise(),Window.setSkin(this.view.options.skin),UI.enable(),this.fitToBox(),Window.adjustToScroll(),e()},this)),this.isVideo()&&e.queue($.proxy(function(e){this.insertVideo($.proxy(function(){e()}))},this)),this.view.options.sync||e.queue($.proxy(function(e){Pages.hideInactive(e)},this)),e.queue($.proxy(function(e){var i=3,t=this.view.options.effects.content.show;Window.setShowingType(this.view.type),Window.visible||(t=this.view.options.effects.window.show,"function"===$.type(this.view.options.onShow)&&this.view.options.onShow.call(Fresco)),this.view.options.sync&&(i++,Pages.hideInactive(function(){--i<1&&e()})),Window.show(function(){--i<1&&e()},this.view.options.effects.window.show),this._show(function(){--i<1&&e()},t),UI.adjustPrevNext(function(){--i<1&&e()},Window._first?0:t),Window._first?(UI.show(null,0),Window._first=!1):UI.show(null,0);t=this.view.options.afterPosition;"function"===$.type(t)&&t.call(Fresco,this._position)},this)),e.queue($.proxy(function(e){this._visible=!0,i&&i(),e()},this))},_show:function(e,i){i=Window.visible?"number"===$.type(i)?i:this.view.options.effects.content.show:0;this.element.stop(!0).show().fadeTo(i||0,1,e)},hide:function(e,i){this.element?(this.removeVideo(),this.abort(),i="number"===$.type(i)?i:this.view.options.effects.content.hide,this.isVideo()&&(i=0),this.element.stop(!0).fadeTo(i,0,"frescoEaseInCubic",$.proxy(function(){this.element.hide(),this._visible=!1,Pages.removeTracking(this._position),e&&e()},this))):e&&e()},stop:function(){this.queues.showhide.queue([]),this.element&&this.element.stop(!0),this.abort()},removeVideo:function(){this.playerIframe&&(this.playerIframe[0].src="//about:blank",this.playerIframe.remove(),this.playerIframe=null)},remove:function(){this.stop(),this.removeVideo(),this.element&&this.element.remove(),this._track&&(Pages.removeTracking(this._position),this._track=!1),this.preloadReady&&(this.preloadReady.abort(),this.preloadReady=null,this.preloading=null,this.preloaded=null),this._visible=!1,this.removed=!0},abort:function(){this.imageReady&&(this.imageReady.abort(),this.imageReady=null),this.vimeoReady&&(this.vimeoReady.abort(),this.vimeoReady=null),this._abortSpinnerDelay(),this.loading=!1},_abortSpinnerDelay:function(){this._spinnerDelay&&(clearTimeout(this._spinnerDelay),this._spinnerDelay=null)},_getInfoHeight:function(e){var i=this.view.options.position&&1<this._total;switch(this._ui){case"fullclick":case"inside":if(!this.view.caption&&!i)return 0;break;case"outside":if(!this.view.caption)return 0}var t="inside"===this._ui?this.infoInside:this.info;"outside"===this._ui&&(e=Math.min(e,Window._boxDimensions.width));var s=t[0].style.width;return"inside"!==this._ui&&"fullclick"!==this._ui||(s="100%"),t.css({width:e+"px"}),e=parseFloat(t.outerHeight()),t.css({width:s}),e},_whileVisible:function(e,i){var t=[],s=Window.element.add(this.element);i&&(s=s.add(i)),$.each(s,function(e,i){$(i).is(":visible")||t.push($(i).show())});i=this.element.hasClass("fr-no-caption");this.element.removeClass("fr-no-caption");s=this.element.hasClass("fr-has-caption");this.element.addClass("fr-has-caption"),Window.element.css({visibility:"hidden"}),e(),Window.element.css({visibility:"visible"}),i&&this.element.addClass("fr-no-caption"),s||this.element.removeClass("fr-has-caption"),$.each(t,function(e,i){i.hide()})},updateForced:function(){this.create(),this._fullClick=this.view.options.fullClick,this._noOverflow=!1,0<parseInt(this.element.css("min-width"))&&(this._fullClick=!0),0<parseInt(this.element.css("min-height"))&&(this._noOverflow=!0)},updateUI:function(){this.updateForced();var e=this._fullClick?"fullclick":this.view.options.ui;this._ui&&this.element.removeClass("fr-ui-"+this._ui),this.element.addClass("fr-ui-"+e),this._ui=e},fitToBox:function(){if(this.content){this.element;var t=$.extend({},Window.getBoxDimensions()),e=$.extend({},this.dimensions),i=this.container;this.updateUI();var s,i={left:parseInt(i.css("padding-left")),top:parseInt(i.css("padding-top"))};"outside"===this._ui&&this._positionOutside&&(s=0,this._whileVisible($.proxy(function(){this._positionOutside.is(":visible")&&(s=this._positionOutside.outerWidth(!0))},this)),s>i.left&&(i.left=s)),t.width-=2*i.left,t.height-=2*i.top;var n,o={width:!0,height:!!this._noOverflow||!this.view.options.overflow.y},e=Fit.within(t,e,o),a=$.extend({},e),r=(this.content,0),e="inside"===this._ui,h=e?this.infoInside:this.info,l=e?this.captionInside:this.caption,d=e?this.posInside:this.pos,u=!!l;switch(this._ui){case"outside":var c=$.extend({},a);this.caption&&(p=this.caption,this._whileVisible($.proxy(function(){for(var e=0;e<2;){r=this._getInfoHeight(a.width);var i=t.height-a.height;i<r&&(a=Fit.within({width:a.width,height:Math.max(a.height-(r-i),0)},a,o)),e++}r=this._getInfoHeight(a.width),(!this.view.options.overflow.y&&r+a.height>t.height||h&&"none"===h.css("display")||r>=.5*a.height)&&(u=!1,r=0,a=c)},this),p)),h&&h.css({width:a.width+"px"}),n={width:a.width,height:a.height+r};break;case"inside":this.caption&&(p=l,this._whileVisible($.proxy(function(){(r=this._getInfoHeight(a.width))>=.45*a.height&&(u=!1,r=0)},this),p)),n=a;break;case"fullclick":var p=[];l&&p.push(l),this._whileVisible($.proxy(function(){var e;(l||d)&&h.css({width:"100%"}),r=this._getInfoHeight(Window._boxDimensions.width),l&&r>.5*t.height&&(u=!1,d?(e=this.caption.is(":visible"),this.caption.hide(),r=this._getInfoHeight(Window._boxDimensions.width),e&&this.caption.show()):r=0),a=Fit.within({width:t.width,height:Math.max(0,t.height-r)},a,o),n=a},this),p),this.content.css({"padding-bottom":0})}l&&l[u?"show":"hide"](),this.element[(u?"remove":"add")+"Class"]("fr-no-caption"),this.element[(u?"add":"remove")+"Class"]("fr-has-caption"),this.content.css(a),this.background.css(n),this.playerIframe&&this.playerIframe.attr(a),this.overlap={y:n.height+("fullclick"===this._ui?r:0)-Window._boxDimensions.height,x:0},this._track=!this._noOverflow&&this.view.options.overflow.y&&0<this.overlap.y,this._infoHeight=r,this._padding=i,this._contentDimensions=a,this._backgroundDimensions=n,Pages[(this._track?"set":"remove")+"Tracking"](this._position),this.position()}},position:function(){if(this.content){var e=this._contentDimensions,i=this._backgroundDimensions,t={top:.5*Window._boxDimensions.height-.5*i.height,left:.5*Window._boxDimensions.width-.5*i.width},s={top:t.top+e.height,left:t.left},n=0,o="inside"===this._ui?this.infoInside:this.info;switch(this._ui){case"fullclick":t.top=.5*(Window._boxDimensions.height-this._infoHeight)-.5*i.height,s={top:Window._boxDimensions.height-this._infoHeight,left:0,bottom:"auto"},n=this._infoHeight;break;case"inside":s={top:"auto",left:0,bottom:0}}if(0<this.overlap.y){var a=Pages.getXYP();switch(t.top=0-a.y*this.overlap.y,this._ui){case"outside":case"fullclick":s.top=Window._boxDimensions.height-this._infoHeight;break;case"inside":var r,h,l,d=t.top+e.height-Window._boxDimensions.height,u=-1*t.top;s.bottom=d,this.closeInside.css({top:u}),1<this._total&&((l=Window.element.is(":visible"))||Window.element.show(),h=this.previousInside.attr("style"),this.previousInside.removeAttr("style"),r=parseInt(this.previousInside.css("margin-top")),this.previousInside.attr({style:h}),l||Window.element.hide(),h=this.previousInside.add(this.nextInside),l=.5*this.overlap.y,h.css({"margin-top":r+(u-l)}),this.positionInside&&this.positionInside.css({bottom:d}))}}else"inside"===this._ui&&this.element.find(".fr-info, .fr-side, .fr-close, .fr-position-inside").removeAttr("style");o&&o.css(s),this.container.css({bottom:n}),this.content.css(t),this.background.css(t)}}}),Oc),Lc,Mc,Nc;function Oc(){return this.initialize.apply(this,_slice.call(arguments))}var Pages={initialize:function(e){this.element=e,this.pages=[],this.uid=1,this._tracking=[]},load:function(e){this.views=e,this.removeAll(),$.each(e,$.proxy(function(e,i){this.pages.push(new Page(i,e+1,this.views.length))},this))},show:function(e,i){var t=this.pages[e-1];this.page&&this.page.uid===t.uid||(this.page=t,Thumbnails.show(e),Window.updateBoxDimensions(),t.show($.proxy(function(){i&&i()},this)))},getPositionInActivePageGroup:function(t){var s=0;return $.each(this.pages,function(e,i){i.view.element&&i.view.element===t&&(s=e+1)}),s},getLoadingCount:function(){var t=0;return $.each(this.pages,function(e,i){i.loading&&t++}),t},removeAll:function(){$.each(this.pages,function(e,i){i.remove()}),this.pages=[]},hideInactive:function(t,s){var n=[];$.each(this.pages,$.proxy(function(e,i){i.uid!==this.page.uid&&n.push(i)},this));var o=0+n.length;return o<1?t&&t():$.each(n,function(e,i){i.hide(function(){t&&--o<1&&t()},s)}),n.length},stopInactive:function(){$.each(this.pages,$.proxy(function(e,i){i.uid!==this.page.uid&&i.stop()},this))},stop:function(){$.each(this.pages,function(e,i){i.stop()})},handleTracking:function(e){Browser.IE&&Browser.IE<9?(this.setXY({x:e.pageX,y:e.pageY}),this.updatePositions()):this._tracking_timer=setTimeout($.proxy(function(){this.setXY({x:e.pageX,y:e.pageY}),this.updatePositions()},this),30)},clearTrackingTimer:function(){this._tracking_timer&&(clearTimeout(this._tracking_timer),this._tracking_timer=null)},startTracking:function(){Support.mobileTouch||this._handleTracking||$(document.documentElement).on("mousemove",this._handleTracking=$.proxy(this.handleTracking,this))},stopTracking:function(){!Support.mobileTouch&&this._handleTracking&&($(document.documentElement).off("mousemove",this._handleTracking),this._handleTracking=null,this.clearTrackingTimer())},setTracking:function(e){this.isTracking(e)||(this._tracking.push(this.pages[e-1]),1===this._tracking.length&&this.startTracking())},clearTracking:function(){this._tracking=[]},removeTracking:function(i){this._tracking=$.grep(this._tracking,function(e){return e._position!==i}),this._tracking.length<1&&this.stopTracking()},isTracking:function(t){var s=!1;return $.each(this._tracking,function(e,i){if(i._position===t)return!(s=!0)}),s},setXY:function(e){this._xy=e},getXYP:function(){var e=Pages.page,t=$.extend({},Window._boxDimensions),i=$.extend({},this._xy);i.y-=$(window).scrollTop(),e&&("outside"===e._ui||"fullclick"===e._ui)&&0<e._infoHeight&&(t.height-=e._infoHeight),i.y-=Window._boxPosition.top;var s={x:0,y:Math.min(Math.max(i.y/t.height,0),1)},n={x:"width",y:"height"},o={};return $.each("y".split(" "),$.proxy(function(e,i){o[i]=Math.min(Math.max(20/t[n[i]],0),1),s[i]*=1+2*o[i],s[i]-=o[i],s[i]=Math.min(Math.max(s[i],0),1)},this)),this.setXYP(s),this._xyp},setXYP:function(e){this._xyp=e},updatePositions:function(){this._tracking.length<1||$.each(this._tracking,function(e,i){i.position()})}};function View(){this.initialize.apply(this,_slice.call(arguments))}$.extend(View.prototype,{initialize:function(object){var options=arguments[1]||{},data={},element;return"string"===$.type(object)?object={url:object}:object&&1===object.nodeType&&(element=$(object),object={element:element[0],url:element.attr("href"),caption:element.attr("data-fresco-caption"),group:element.attr("data-fresco-group"),extension:element.attr("data-fresco-extension"),type:element.attr("data-fresco-type"),options:element.attr("data-fresco-options")&&eval("({"+element.attr("data-fresco-options")+"})")||{}}),object&&(object.extension||(object.extension=detectExtension(object.url)),object.type||(data=getURIData(object.url),object._data=data,object.type=data.type)),object._data||(object._data=getURIData(object.url)),object&&object.options?object.options=$.extend(!0,$.extend({},options),$.extend({},object.options)):object.options=$.extend({},options),object.options=Options.create(object.options,object.type,object._data),$.extend(this,object),this}});var Spinner={supported:Support.css.transform&&Support.css.animation,initialize:function(e){this.element=$("<div>").addClass("fr-spinner").hide();for(var i=1;i<=12;i++)this.element.append($("<div>").addClass("fr-spin-"+i));this.element.on("click",$.proxy(function(){Window.hide()},this)),this.element.on("fresco:mousewheel",function(e){e.preventDefault()})},setSkin:function(e){this.supported&&(this._skin&&this.element.removeClass("fr-spinner-skin-"+this._skin),this.updateDimensions(),this.element.addClass("fr-spinner-skin-"+e),this._skin=e)},updateDimensions:function(){var e=this._attached;e||this.attach(),this._dimensions={width:this.element.outerWidth(),height:this.element.outerHeight()},e||this.detach()},attach:function(){this._attached||($(document.body).append(this.element),this._attached=!0)},detach:function(){this._attached&&(this.element.detach(),this._attached=!1)},show:function(e,i){this._visible=!0,this.attach(),this.center();var t=Pages.page&&Pages.page.view.options.effects.spinner.show||0,t=("number"===$.type(i)?i:t)||0;this.element.stop(!0).fadeTo(t,1,e)},hide:function(e,i,t){this._visible=!1;var s=Pages.page&&Pages.page.view.options.effects.spinner.hide||0,s=("number"===$.type(i)?i:s)||0;this.element.stop(!0).fadeOut(s||0,$.proxy(function(){this.detach(),e&&e()},this))},center:function(){var e,i;this.supported&&(this._dimensions||this.updateDimensions(),e=Pages.page,i=0,e&&"fullclick"===e._ui&&e._whileVisible(function(){i=e._getInfoHeight(Window._boxDimensions.width)}),this.element.css({top:Window._boxPosition.top+.5*Window._boxDimensions.height-.5*this._dimensions.height-.5*i,left:Window._boxPosition.left+.5*Window._boxDimensions.width-.5*this._dimensions.width}))}},_Fresco={_disabled:!1,_fallback:!0,initialize:function(){Window.initialize(),this._disabled||this.startDelegating()},startDelegating:function(){this._delegateHandler||$(document.documentElement).on("click",".fresco[href]",this._delegateHandler=$.proxy(this.delegate,this)).on("click",this._setClickXYHandler=$.proxy(this.setClickXY,this))},stopDelegating:function(){this._delegateHandler&&($(document.documentElement).off("click",".fresco[href]",this._delegateHandler).off("click",this._setClickXYHandler),this._setClickXYHandler=null,this._delegateHandler=null)},setClickXY:function(e){Pages.setXY({x:e.pageX,y:e.pageY})},delegate:function(e){var i;this._disabled||(e.stopPropagation(),e.preventDefault(),i=e.currentTarget,this.setClickXY(e),_Fresco.show(i))},show:function(object){if(this._disabled)this.showFallback.apply(_Fresco,_slice.call(arguments));else{var options=arguments[1]||{},position=arguments[2];arguments[1]&&"number"===$.type(arguments[1])&&(position=arguments[1],options={});var views=[],object_type,isElement=_.isElement(object);switch(object_type=$.type(object)){case"string":case"object":var view=new View(object,options),_dgo="data-fresco-group-options",groupOptions={},elements;view.group?isElement&&(elements=$('.fresco[data-fresco-group="'+$(object).attr("data-fresco-group")+'"]'),elements.filter("["+_dgo+"]").each(function(i,element){$.extend(groupOptions,eval("({"+($(element).attr(_dgo)||"")+"})"))}),elements.each(function(e,i){position||i!==object||(position=e+1),views.push(new View(i,$.extend({},groupOptions,options)))})):(isElement&&$(object).is("["+_dgo+"]")&&($.extend(groupOptions,eval("({"+($(object).attr(_dgo)||"")+"})")),view=new View(object,$.extend({},groupOptions,options))),views.push(view));break;case"array":$.each(object,function(e,i){i=new View(i,options);views.push(i)})}var groupExtend={grouped:{caption:!1}},firstUI=views[0].options.ui,positionInAPG;$.each(views,function(e,i){i.caption&&(groupExtend.grouped.caption=!0),0<e&&i.options.ui!==firstUI&&(i.options.ui=firstUI)}),$.each(views,function(e,i){i=$.extend(i,groupExtend)}),(!position||position<1)&&(position=1),position>views.length&&(position=views.length),isElement&&(positionInAPG=Pages.getPositionInActivePageGroup(object))?Window.setPosition(positionInAPG):Window.load(views,position)}},showFallback:function(e){!this._fallback||(e=function e(i){var t=$.type(i);return"string"===t?i:"array"===t&&i[0]?e(i[0]):_.isElement(i)&&$(i).attr("href")?$(i).attr("href"):!!i.url&&i.url}(e))&&(window.location.href=e)}};$.extend(Fresco,{show:function(e){return _Fresco.show.apply(_Fresco,_slice.call(arguments)),this},hide:function(){return Window.hide(),this},disable:function(){return _Fresco.stopDelegating(),_Fresco._disabled=!0,this},enable:function(){return _Fresco._disabled=!1,_Fresco.startDelegating(),this},fallback:function(e){return _Fresco._fallback=e,this},setDefaultSkin:function(e){return Options.defaults.skin=e,this}}),(Browser.IE&&Browser.IE<7||"number"===$.type(Browser.Android)&&Browser.Android<3||Browser.MobileSafari&&"number"===$.type(Browser.WebKit)&&Browser.WebKit<533.18)&&(_Fresco.show=_Fresco.showFallback);var Thumbnails={initialize:function(e){this.element=e,this._thumbnails=[],this._orientation="vertical",this._vars={thumbnail:{},thumbnailFrame:{},thumbnails:{}},this.build(),this.startObserving()},build:function(){this.element.append(this.wrapper=$("<div>").addClass("fr-thumbnails-wrapper").append(this._slider=$("<div>").addClass("fr-thumbnails-slider").append(this._previous=$("<div>").addClass("fr-thumbnails-side fr-thumbnails-side-previous").append(this._previous_button=$("<div>").addClass("fr-thumbnails-side-button").append($("<div>").addClass("fr-thumbnails-side-button-background")).append($("<div>").addClass("fr-thumbnails-side-button-icon")))).append(this._thumbs=$("<div>").addClass("fr-thumbnails-thumbs").append(this._slide=$("<div>").addClass("fr-thumbnails-slide"))).append(this._next=$("<div>").addClass("fr-thumbnails-side fr-thumbnails-side-next").append(this._next_button=$("<div>").addClass("fr-thumbnails-side-button").append($("<div>").addClass("fr-thumbnails-side-button-background")).append($("<div>").addClass("fr-thumbnails-side-button-icon"))))))},startObserving:function(){this._slider.delegate(".fr-thumbnail","click",$.proxy(function(e){e.stopPropagation();e=$(e.target).closest(".fr-thumbnail")[0],e=e&&$(e).data("fr-position");e&&(this.setActive(e),Window.setPosition(e))},this)),this._slider.bind("click",function(e){e.stopPropagation()}),this._previous.bind("click",$.proxy(this.previousPage,this)),this._next.bind("click",$.proxy(this.nextPage,this))},load:function(e){this.clear();var t="horizontal",s=!1;$.each(e,$.proxy(function(e,i){"vertical"===i.options.thumbnails&&(t="vertical"),i.options.thumbnails||(s=!0)},this)),this.setOrientation(t),this._disabledGroup=s,$.each(e,$.proxy(function(e,i){this._thumbnails.push(new Thumbnail(i,e+1))},this)),this.fitToViewport()},clear:function(){$.each(this._thumbnails,function(e,i){i.remove()}),this._thumbnails=[],this._position=-1,this._page=-1},setOrientation:function(e){this._orientation&&Window.element.removeClass("fr-thumbnails-"+this._orientation),Window.element.addClass("fr-thumbnails-"+e),this._orientation=e},disable:function(){Window.element.removeClass("fr-thumbnails-enabled").addClass("fr-thumbnails-disabled"),this._disabled=!0},enable:function(){Window.element.removeClass("fr-thumbnails-disabled").addClass("fr-thumbnails-enabled"),this._disabled=!1},enabled:function(){return!this._disabled},disabled:function(){return this._disabled},updateVars:function(){var e=Window.element,i=this._vars,t="horizontal"===this._orientation,s=t?"top":"left",n=t?"left":"top",o=t?"bottom":"left",a=t?"top":"right",r=t?"width":"height",h=t?"height":"width",l={left:"right",right:"left",top:"bottom",bottom:"top"};this.element.removeClass("fr-thumbnails-measured");var d=e.is(":visible");if(d||e.show(),this.disabled()&&this.enable(),!this.element.is(":visible")||this._thumbnails.length<2||this._disabledGroup)return this.disable(),$.extend(this._vars.thumbnails,{width:0,height:0}),d||e.hide(),void this.element.addClass("fr-thumbnails-measured");this.enable();var u=this._previous,c=this._next,p=Bounds.viewport(),f=this.element["inner"+_.String.capitalize(h)](),m=parseInt(this._thumbs.css("padding-"+s))||0,h=Math.max(f-2*m,0),s=parseInt(this._thumbs.css("padding-"+n))||0,a=(parseInt(this.element.css("margin-"+o))||0)+(parseInt(this.element.css("margin-"+a))||0);$.extend(i.thumbnails,{height:f+a,width:p[t?"width":"height"],paddingTop:m}),$.extend(i.thumbnail,{height:h,width:h}),$.extend(i.thumbnailFrame,{width:h+2*s,height:f}),i.sides={previous:{width:c["inner"+_.String.capitalize(r)](),marginLeft:parseInt(u.css("margin-"+n))||0,marginRight:parseInt(u.css("margin-"+l[n]))||0},next:{width:c["inner"+_.String.capitalize(r)](),marginLeft:parseInt(c.css("margin-"+n))||0,marginRight:parseInt(c.css("margin-"+l[n]))||0}};u=p[r],c=i.thumbnailFrame.width,l=this._thumbnails.length;i.thumbnails.width=u,i.sides.enabled=1<l*c/u;n=u,p=i.sides,r=p.previous,p=p.next,r=r.marginLeft+r.width+r.marginRight+p.marginLeft+p.width+p.marginRight;i.sides.enabled&&(n-=r);p=l*c,r=(n=p<(n=Math.floor(n/c)*c)?p:n)+(i.sides.enabled?r:0);i.ipp=Math.round(n/c),this._mode="page",i.ipp<=1&&(r=n=u,i.sides.enabled=!1,this._mode="center"),i.pages=Math.ceil(l*c/n),i.wrapper={width:r+1,height:f},i.thumbs={width:n,height:f},i.slide={width:l*c+1,height:f},d||e.hide(),this.element.addClass("fr-thumbnails-measured")},hide:function(){this.disable(),this.thumbnails.hide(),this._visible=!1},getDimensions:function(){var e="horizontal"===this._orientation;return{width:e?this._vars.thumbnails.width:this._vars.thumbnails.height,height:e?this._vars.thumbnails.height:this._vars.thumbnails.width}},fitToViewport:function(){var e,i,t;this.updateVars(),this.disabled()||(e=$.extend({},this._vars),i="horizontal"===this._orientation,$.each(this._thumbnails,function(e,i){i.resize()}),this._previous[e.sides.enabled?"show":"hide"](),this._next[e.sides.enabled?"show":"hide"](),this._thumbs.css({width:e.thumbs[i?"width":"height"],height:e.thumbs[i?"height":"width"]}),this._slide.css({width:e.slide[i?"width":"height"],height:e.slide[i?"height":"width"]}),(t={width:e.wrapper[i?"width":"height"],height:e.wrapper[i?"height":"width"]})["margin-"+(i?"left":"top")]=Math.round(-.5*e.wrapper.width)+"px",t["margin-"+(i?"top":"left")]=0,this.wrapper.css(t),this._position&&this.moveTo(this._position,!0))},moveToPage:function(e){e<1||e>this._vars.pages||e===this._page||(e=this._vars.ipp*(e-1)+1,this.moveTo(e))},previousPage:function(){this.moveToPage(this._page-1)},nextPage:function(){this.moveToPage(this._page+1)},show:function(e){var i=this._position<0,t=this._thumbnails.length;this._position=e=t<(e=e<1?1:e)?t:e,this.setActive(e),"page"===this._mode&&this._page===Math.ceil(e/this._vars.ipp)||this.moveTo(e,i)},moveTo:function(e,i){var t,s,n,o,a,r;this.updateVars(),this.disabled()||(t="horizontal"===this._orientation,s=.5*Bounds.viewport()[t?"width":"height"],r=this._vars.thumbnailFrame.width,"page"===this._mode?(a=Math.ceil(e/this._vars.ipp),this._page=a,n=r*(this._page-1)*this._vars.ipp*-1,this._previous_button[(a<2?"add":"remove")+"Class"](o="fr-thumbnails-side-button-disabled"),this._next_button[(a>=this._vars.pages?"add":"remove")+"Class"](o)):n=s+-1*(r*(e-1)+.5*r),a=Pages.page,e={},(r={})[t?"top":"left"]=0,e[t?"left":"top"]=n+"px",this._slide.stop(!0).css(r).animate(e,!i&&a&&a.view.options.effects.thumbnails.slide||0,$.proxy(function(){this.loadCurrentPage()},this)))},loadCurrentPage:function(){if(this._position&&this._vars.thumbnailFrame.width&&!(this._thumbnails.length<1)){if("page"===this._mode){if(this._page<1)return;i=(this._page-1)*this._vars.ipp+1,t=Math.min(i-1+this._vars.ipp,this._thumbnails.length)}else{var e=Math.ceil(this._vars.thumbnails.width/this._vars.thumbnailFrame.width),i=Math.max(Math.floor(Math.max(this._position-.5*e,0)),1),t=Math.ceil(Math.min(this._position+.5*e));this._thumbnails.length<t&&(t=this._thumbnails.length)}for(var s=i;s<=t;s++)this._thumbnails[s-1].load()}},setActive:function(e){this._slide.find(".fr-thumbnail-active").removeClass("fr-thumbnail-active");e=e&&this._thumbnails[e-1];e&&e.activate()},refresh:function(){this._position&&this.setPosition(this._position)}};function Thumbnail(){this.initialize.apply(this,_slice.call(arguments))}$.extend(Thumbnail.prototype,{initialize:function(e,i){this.view=e,this._position=i,this.preBuild()},preBuild:function(){this.thumbnail=$("<div>").addClass("fr-thumbnail").data("fr-position",this._position)},build:function(){var e;this.thumbnailFrame||(e=this.view.options,Thumbnails._slide.append(this.thumbnailFrame=$("<div>").addClass("fr-thumbnail-frame").append(this.thumbnail.append(this.thumbnailWrapper=$("<div>").addClass("fr-thumbnail-wrapper")))),"image"===this.view.type&&this.thumbnail.addClass("fr-load-thumbnail").data("thumbnail",{view:this.view,src:e.thumbnail||this.view.url}),(e=e.thumbnail&&e.thumbnail.icon)&&this.thumbnail.append($("<div>").addClass("fr-thumbnail-icon fr-thumbnail-icon-"+e)),this.thumbnail.append($("<div>").addClass("fr-thumbnail-overlay").append($("<div>").addClass("fr-thumbnail-overlay-background")).append(this.loading=$("<div>").addClass("fr-thumbnail-loading").append($("<div>").addClass("fr-thumbnail-loading-background")).append(this.spinner=$("<div>").addClass("fr-thumbnail-spinner").hide().append($("<div>").addClass("fr-thumbnail-spinner-spin")))).append($("<div>").addClass("fr-thumbnail-overlay-border"))),this.thumbnail.append($("<div>").addClass("fr-thumbnail-state")),this.resize())},remove:function(){this.thumbnailFrame&&(this.thumbnailFrame.remove(),this.thumbnailFrame=null,this.image=null),this.ready&&(this.ready.abort(),this.ready=null),this.vimeoThumbnail&&(this.vimeoThumbnail.abort(),this.vimeoThumbnail=null),this._loading=!1,this._removed=!0,this.view=null,this._clearDelay()},load:function(){var e,i;this._loaded||this._loading||this._removed||(this.thumbnailWrapper||this.build(),this._loading=!0,i=(!(e=this.view.options.thumbnail)||"boolean"!==$.type(e))&&e||this.view.url,(this._url=i)&&("vimeo"===this.view.type?i===e?(this._url=i,this._load(this._url)):"vimeo"===this.view.type&&(this.vimeoThumbnail=new VimeoThumbnail(this.view.url,$.proxy(function(e){this._url=e,this._load(e)},this),$.proxy(function(){this._error()},this))):this._load(this._url)))},activate:function(){this.thumbnail.addClass("fr-thumbnail-active")},_load:function(e){this.thumbnailWrapper.prepend(this.image=$("<img>").addClass("fr-thumbnail-image").attr({src:e}).css({opacity:1e-4})),this.fadeInSpinner(),this.ready=new ImageReady(this.image[0],$.proxy(function(e){e=e.img;this.thumbnailFrame&&this._loading&&(this._loaded=!0,this._loading=!1,this._dimensions={width:e.naturalWidth,height:e.naturalHeight},this.resize(),this.show())},this),$.proxy(function(){this._error()},this),{method:this.view.options.loadedMethod})},_error:function(){this._loaded=!0,this._loading=!1,this.thumbnail.addClass("fr-thumbnail-error"),this.image&&this.image.hide(),this.thumbnailWrapper.append($("<div>").addClass("fr-thumbnail-image")),this.show()},fadeInSpinner:function(){var e;Spinner.supported&&this.view.options.spinner&&(this._clearDelay(),e=this.view.options.effects.thumbnail,this._delay=setTimeout($.proxy(function(){this.spinner.stop(!0).fadeTo(e.show||0,1)},this),this.view.options.spinnerDelay||0))},show:function(){this._clearDelay();var e=this.view.options.effects.thumbnail;this.loading.stop(!0).delay(e.delay).fadeTo(e.show,0)},_clearDelay:function(){this._delay&&(clearTimeout(this._delay),this._delay=null)},resize:function(){var t,e,i,s,n,o;this.thumbnailFrame&&(i="horizontal"===Thumbnails._orientation,this.thumbnailFrame.css({width:Thumbnails._vars.thumbnailFrame[i?"width":"height"],height:Thumbnails._vars.thumbnailFrame[i?"height":"width"]}),this.thumbnailFrame.css({top:i?0:Thumbnails._vars.thumbnailFrame.width*(this._position-1),left:i?Thumbnails._vars.thumbnailFrame.width*(this._position-1):0}),this.thumbnailWrapper&&(s=Thumbnails._vars.thumbnail,this.thumbnail.css({width:s.width,height:s.height,"margin-top":Math.round(-.5*s.height),"margin-left":Math.round(-.5*s.width),"margin-bottom":0,"margin-right":0}),this._dimensions&&(o={width:s.width,height:s.height},n=Math.max(o.width,o.height),(e=$.extend({},this._dimensions)).width>o.width&&e.height>o.height?(s=i=1,(t=Fit.within(o,e)).width<o.width&&(i=o.width/t.width),t.height<o.height&&(s=o.height/t.height),1<(s=Math.max(i,s))&&(t.width*=s,t.height*=s),$.each("width height".split(" "),function(e,i){t[i]=Math.round(t[i])})):t=Fit.within(this._dimensions,e.width<o.width||e.height<o.height?{width:n,height:n}:o),n=Math.round(.5*o.width-.5*t.width),o=Math.round(.5*o.height-.5*t.height),this.image.removeAttr("style").css($.extend({},t,{top:o,left:n})))))}});var UI={_modes:["fullclick","outside","inside"],_ui:!1,_validClickTargetSelector:[".fr-content-element",".fr-content",".fr-content > .fr-stroke",".fr-content > .fr-stroke .fr-stroke-color"].join(", "),initialize:function(e){$.each(this._modes,$.proxy(function(e,i){this[i].initialize()},this)),Window.element.addClass("fr-ui-inside-hidden fr-ui-fullclick-hidden")},set:function(e){this._ui&&(Window.element.removeClass("fr-window-ui-"+this._ui),Overlay.element.removeClass("fr-overlay-ui-"+this._ui)),Window.element.addClass("fr-window-ui-"+e),Overlay.element.addClass("fr-overlay-ui-"+e),this._enabled&&this._ui&&this._ui!==e&&(this[this._ui].disable(),this[e].enable(),UI[e].show()),this._ui=e},_onWindowResize:function(){Support.mobileTouch&&this.show()},enable:function(){$.each(this._modes,$.proxy(function(e,i){UI[i][i===this._ui?"enable":"disable"]()},this)),this._enabled=!0},disable:function(){$.each(this._modes,$.proxy(function(e,i){UI[i].disable()},this)),this._enabled=!1},adjustPrevNext:function(e,i){UI[this._ui].adjustPrevNext(e,i)},show:function(e,i){UI[this._ui].show(e,i)},hide:function(e,i){UI[this._ui].hide(e,i)},reset:function(){$.each(this._modes,$.proxy(function(e,i){UI[i].reset()},this))},update:function(){var e=Pages.page;e&&this.set(e._ui)}};return UI.fullclick={initialize:function(){this.build(),this._scrollLeft=-1},build:function(){Window._box.append(this._previous=$("<div>").addClass("fr-side fr-side-previous fr-side-previous-fullclick fr-toggle-ui").append($("<div>").addClass("fr-side-button").append($("<div>").addClass("fr-side-button-background")).append($("<div>").addClass("fr-side-button-icon")))).append(this._next=$("<div>").addClass("fr-side fr-side-next fr-side-next-fullclick fr-toggle-ui").append($("<div>").addClass("fr-side-button").append($("<div>").addClass("fr-side-button-background")).append($("<div>").addClass("fr-side-button-icon")))).append(this._close=$("<div>").addClass("fr-close fr-close-fullclick").append($("<div>").addClass("fr-close-background")).append($("<div>").addClass("fr-close-icon"))),Browser.IE&&Browser.IE<=7&&this._previous.add(this._next).add(this._close).hide(),this._close.on("click",$.proxy(function(e){e.preventDefault(),Window.hide()},this)),this._previous.on("click",$.proxy(function(e){Window.previous(),this._onMouseMove(e)},this)),this._next.on("click",$.proxy(function(e){Window.next(),this._onMouseMove(e)},this))},enable:function(){this.bind()},disable:function(){this.unbind()},reset:function(){Window.timers.clear("ui-fullclick"),this._x=-1,this._y=-1,this._scrollLeft=-1,this.resetPrevNext(),this._onMouseLeave()},resetPrevNext:function(){this._previous.add(this._next).stop(!0).removeAttr("style")},bind:function(){this._onMouseUpHandler||(this.unbind(),Window._pages.on("mouseup",".fr-container",this._onMouseUpHandler=$.proxy(this._onMouseUp,this)),Support.mobileTouch||(Window.element.on("mouseenter",this._showHandler=$.proxy(this.show,this)).on("mouseleave",this._hideHandler=$.proxy(this.hide,this)),Window.element.on("mousemove",this._mousemoveHandler=$.proxy(function(e){var i=e.pageX,e=e.pageY;this._hoveringSideButton||e===this._y&&i===this._x||(this._x=i,this._y=e,this.show(),this.startTimer())},this)),Window._pages.on("mousemove",".fr-container",this._onMouseMoveHandler=$.proxy(this._onMouseMove,this)).on("mouseleave",".fr-container",this._onMouseLeaveHandler=$.proxy(this._onMouseLeave,this)).on("mouseenter",".fr-container",this._onMouseEnterHandler=$.proxy(this._onMouseEnter,this)),Window.element.on("mouseenter",".fr-side",this._onSideMouseEnterHandler=$.proxy(this._onSideMouseEnter,this)).on("mouseleave",".fr-side",this._onSideMouseLeaveHandler=$.proxy(this._onSideMouseLeave,this)),$(window).on("scroll",this._onScrollHandler=$.proxy(this._onScroll,this))))},unbind:function(){this._onMouseUpHandler&&(Window._pages.off("mouseup",".fr-container",this._onMouseUpHandler),this._onMouseUpHandler=null,this._showHandler&&(Window.element.off("mouseenter",this._showHandler).off("mouseleave",this._hideHandler).off("mousemove",this._mousemoveHandler),Window._pages.off("mousemove",".fr-container",this._onMouseMoveHandler).off("mouseleave",".fr-container",this._onMouseLeaveHandler).off("mouseenter",".fr-container",this._onMouseEnterHandler),Window.element.off("mouseenter",".fr-side",this._onSideMouseEnterHandler).off("mouseleave",".fr-side",this._onSideMouseLeaveHandler),$(window).off("scroll",this._onScrollHandler),this._showHandler=null))},adjustPrevNext:function(e,i){var t,s,n,o=Pages.page;o&&((s=Window.element.is(":visible"))||Window.element.show(),n=this._previous.attr("style"),this._previous.removeAttr("style"),t=parseInt(this._previous.css("margin-top")),this._previous.attr({style:n}),s||Window.element.hide(),n=o._infoHeight||0,s=this._previous.add(this._next),n={"margin-top":t-.5*n},i="number"===$.type(i)?i:Pages.page&&Pages.page.view.options.effects.content.show||0,this.opening&&(i=0),s.stop(!0).animate(n,i,e),this._previous[(Window.mayPrevious()?"remove":"add")+"Class"]("fr-side-disabled"),this._next[(Window.mayNext()?"remove":"add")+"Class"]("fr-side-disabled"),s[(o._total<2?"add":"remove")+"Class"]("fr-side-hidden")),e&&e()},_onScroll:function(){this._scrollLeft=$(window).scrollLeft()},_onMouseMove:function(e){if(!Support.mobileTouch){var i=this._getEventSide(e),e=_.String.capitalize(i),e=!!i&&Window["may"+e]();if(i!==this._hoveringSide||e!==this._mayClickHoveringSide)switch(this._hoveringSide=i,this._mayClickHoveringSide=e,Window._box[(e?"add":"remove")+"Class"]("fr-hovering-clickable"),i){case"previous":Window._box.addClass("fr-hovering-previous").removeClass("fr-hovering-next");break;case"next":Window._box.addClass("fr-hovering-next").removeClass("fr-hovering-previous")}}},_onMouseLeave:function(e){Window._box.removeClass("fr-hovering-clickable fr-hovering-previous fr-hovering-next"),this._hoveringSide=!1},_onMouseUp:function(e){var i;1<e.which||(1!==Pages.pages.length?(i=this._getEventSide(e),Window[i](),this._onMouseMove(e)):Window.hide())},_onMouseEnter:function(e){this._onMouseMove(e)},_getEventSide:function(e){return-1<this._scrollLeft?this._scrollLeft:this._scrollLeft=$(window).scrollLeft(),e.pageX-Window._boxPosition.left-this._scrollLeft<.5*Window._boxDimensions.width?"previous":"next"},_onSideMouseEnter:function(e){this._hoveringSideButton=!0,this._hoveringSide=this._getEventSide(e),this._mayClickHoveringSide=Window["may"+_.String.capitalize(this._hoveringSide)](),this.clearTimer()},_onSideMouseLeave:function(e){this._hoveringSideButton=!1,this._hoveringSide=!1,this._mayClickHoveringSide=!1,this.startTimer()},show:function(e){if(this._visible)return this.startTimer(),void("function"===$.type(e)&&e());this._visible=!0,this.startTimer(),Window.element.addClass("fr-visible-fullclick-ui").removeClass("fr-hidden-fullclick-ui"),Browser.IE&&Browser.IE<=7&&this._previous.add(this._next).add(this._close).show(),"function"===$.type(e)&&e()},hide:function(e){var i=Pages.page&&Pages.page.view.type;this._visible&&(!i||"youtube"!==i&&"vimeo"!==i)&&(this._visible=!1,Window.element.removeClass("fr-visible-fullclick-ui").addClass("fr-hidden-fullclick-ui")),"function"===$.type(e)&&e()},clearTimer:function(){Support.mobileTouch||Window.timers.clear("ui-fullclick")},startTimer:function(){Support.mobileTouch||(this.clearTimer(),Window.timers.set("ui-fullclick",$.proxy(function(){this.hide()},this),Window.view?Window.view.options.uiDelay:0))}},UI.inside={initialize:function(){},enable:function(){this.bind()},disable:function(){this.unbind()},bind:function(){this._onMouseUpHandler||(this.unbind(),Window._pages.on("mouseup",".fr-content",this._onMouseUpHandler=$.proxy(this._onMouseUp,this)),Window._pages.on("click",".fr-content .fr-close",$.proxy(function(e){e.preventDefault(),Window.hide()},this)).on("click",".fr-content .fr-side-previous",$.proxy(function(e){Window.previous(),this._onMouseMove(e)},this)).on("click",".fr-content .fr-side-next",$.proxy(function(e){Window.next(),this._onMouseMove(e)},this)),Window.element.on("click",".fr-container, .fr-thumbnails, .fr-thumbnails-wrapper",this._delegateOverlayCloseHandler=$.proxy(this._delegateOverlayClose,this)),Support.mobileTouch||(Window.element.on("mouseenter",".fr-content",this._showHandler=$.proxy(this.show,this)).on("mouseleave",".fr-content",this._hideHandler=$.proxy(this.hide,this)),Window.element.on("mousemove",".fr-content",this._mousemoveHandler=$.proxy(function(e){var i=e.pageX,e=e.pageY;this._hoveringSideButton||e===this._y&&i===this._x||(this._x=i,this._y=e,this.show(),this.startTimer())},this)),Window._pages.on("mousemove",".fr-info, .fr-close",$.proxy(function(e){e.stopPropagation(),this._onMouseLeave(e)},this)),Window._pages.on("mousemove",".fr-info",$.proxy(function(){this.clearTimer()},this)),Window._pages.on("mousemove",".fr-content",this._onMouseMoveHandler=$.proxy(this._onMouseMove,this)).on("mouseleave",".fr-content",this._onMouseLeaveHandler=$.proxy(this._onMouseLeave,this)).on("mouseenter",".fr-content",this._onMouseEnterHandler=$.proxy(this._onMouseEnter,this)),Window.element.on("mouseenter",".fr-side",this._onSideMouseEnterHandler=$.proxy(this._onSideMouseEnter,this)).on("mouseleave",".fr-side",this._onSideMouseLeaveHandler=$.proxy(this._onSideMouseLeave,this)),$(window).on("scroll",this._onScrollHandler=$.proxy(this._onScroll,this))))},unbind:function(){this._onMouseUpHandler&&(Window._pages.off("mouseup",".fr-content",this._onMouseUpHandler),this._onMouseUpHandler=null,Window._pages.off("click",".fr-content .fr-close").off("click",".fr-content .fr-side-previous").off("click",".fr-content .fr-side-next"),Window.element.off("click",".fr-container, .fr-thumbnails, .fr-thumbnails-wrapper",this._delegateOverlayCloseHandler),this._showHandler&&(Window.element.off("mouseenter",".fr-content",this._showHandler).off("mouseleave",".fr-content",this._hideHandler).off("mousemove",".fr-content",this._mousemoveHandler),Window._pages.off("mousemove",".fr-info, .fr-close"),Window._pages.off("mousemove",".fr-info"),Window._pages.off("mousemove",".fr-content-element",this._onMouseMoveHandler).off("mouseleave",".fr-content",this._onMouseLeaveHandler).off("mouseenter",".fr-content",this._onMouseEnterHandler),Window.element.off("mouseenter",".fr-side",this._onSideMouseEnterHandler).off("mouseleave",".fr-side",this._onSideMouseLeaveHandler),$(window).off("scroll",this._onScrollHandler),this._showHandler=null))},reset:function(){Window.timers.clear("ui-fullclick"),this._x=-1,this._y=-1,this._scrollLeft=-1,this._hoveringSide=!1,this._onMouseLeave()},adjustPrevNext:function(e){e&&e()},_onScroll:function(){this._scrollLeft=$(window).scrollLeft()},_delegateOverlayClose:function(e){var i=Pages.page;i&&i.view.options.overlay&&!i.view.options.overlay.close||$(e.target).is(".fr-container, .fr-thumbnails, .fr-thumbnails-wrapper")&&(e.preventDefault(),e.stopPropagation(),Window.hide())},_onMouseMove:function(e){if(!Support.mobileTouch){var i=this._getEventSide(e),e=_.String.capitalize(i),e=!!i&&Window["may"+e]();if((i=1===Pages.pages.length||Pages.page&&"close"===Pages.page.view.options.onClick?!1:i)!==this._hoveringSide||e!==this._mayClickHoveringSide)if(this._hoveringSide=i,this._mayClickHoveringSide=e,i)switch(Window._box[(e?"add":"remove")+"Class"]("fr-hovering-clickable"),i){case"previous":Window._box.addClass("fr-hovering-previous").removeClass("fr-hovering-next");break;case"next":Window._box.addClass("fr-hovering-next").removeClass("fr-hovering-previous")}else Window._box.removeClass("fr-hovering-clickable fr-hovering-previous fr-hovering-next")}},_onMouseLeave:function(e){Window._box.removeClass("fr-hovering-clickable fr-hovering-previous fr-hovering-next"),this._hoveringSide=!1},_onMouseUp:function(e){var i;1<e.which||!$(e.target).is(UI._validClickTargetSelector)||(1===Pages.pages.length||Pages.page&&"close"===Pages.page.view.options.onClick?Window.hide():(i=this._getEventSide(e),Window[i](),this._onMouseMove(e)))},_onMouseEnter:function(e){this._onMouseMove(e)},_getEventSide:function(e){return-1<this._scrollLeft?this._scrollLeft:this._scrollLeft=$(window).scrollLeft(),e.pageX-Window._boxPosition.left-this._scrollLeft<.5*Window._boxDimensions.width?"previous":"next"},_onSideMouseEnter:function(e){this._hoveringSideButton=!0,this._hoveringSide=this._getEventSide(e),this._mayClickHoveringSide=Window["may"+_.String.capitalize(this._hoveringSide)](),this.clearTimer()},_onSideMouseLeave:function(e){this._hoveringSideButton=!1,this._hoveringSide=!1,this._mayClickHoveringSide=!1,this.startTimer()},show:function(e){if(this._visible)return this.startTimer(),void("function"===$.type(e)&&e());this._visible=!0,this.startTimer(),Window.element.addClass("fr-visible-inside-ui").removeClass("fr-hidden-inside-ui"),"function"===$.type(e)&&e()},hide:function(e){this._visible&&(this._visible=!1,Window.element.removeClass("fr-visible-inside-ui").addClass("fr-hidden-inside-ui")),"function"===$.type(e)&&e()},clearTimer:function(){Support.mobileTouch||Window.timers.clear("ui-inside")},startTimer:function(){Support.mobileTouch||(this.clearTimer(),Window.timers.set("ui-inside",$.proxy(function(){this.hide()},this),Window.view?Window.view.options.uiDelay:0))}},UI.outside={initialize:function(){this.build(),this._scrollLeft=-1},build:function(){Window._box.append(this._previous=$("<div>").addClass("fr-side fr-side-previous fr-side-previous-outside").append($("<div>").addClass("fr-side-button").append($("<div>").addClass("fr-side-button-background")).append($("<div>").addClass("fr-side-button-icon")))).append(this._next=$("<div>").addClass("fr-side fr-side-next fr-side-next-outside").append($("<div>").addClass("fr-side-button").append($("<div>").addClass("fr-side-button-background")).append($("<div>").addClass("fr-side-button-icon")))).append(this._close=$("<div>").addClass("fr-close fr-close-outside").append($("<div>").addClass("fr-close-background")).append($("<div>").addClass("fr-close-icon"))),Browser.IE&&Browser.IE<=7&&this._previous.add(this._next).add(this._close).hide(),this._close.on("click",$.proxy(function(e){e.preventDefault(),Window.hide()},this)),this._previous.on("click",$.proxy(function(e){Window.previous(),this._onMouseMove(e)},this)),this._next.on("click",$.proxy(function(e){Window.next(),this._onMouseMove(e)},this))},enable:function(){this.bind()},disable:function(){this.unbind()},reset:function(){Window.timers.clear("ui-outside"),this._x=-1,this._y=-1,this._scrollLeft=-1,this._onMouseLeave()},bind:function(){this._onMouseUpHandler||(this.unbind(),Window.element.on("mouseup",".fr-content",this._onMouseUpHandler=$.proxy(this._onMouseUp,this)),Window.element.on("click",".fr-container, .fr-thumbnails, .fr-thumbnails-wrapper",this._delegateOverlayCloseHandler=$.proxy(this._delegateOverlayClose,this)),Support.mobileTouch||(Window._pages.on("mousemove",".fr-content",this._onMouseMoveHandler=$.proxy(this._onMouseMove,this)).on("mouseleave",".fr-content",this._onMouseLeaveHandler=$.proxy(this._onMouseLeave,this)).on("mouseenter",".fr-content",this._onMouseEnterHandler=$.proxy(this._onMouseEnter,this)),Window.element.on("mouseenter",".fr-side",this._onSideMouseEnterHandler=$.proxy(this._onSideMouseEnter,this)).on("mouseleave",".fr-side",this._onSideMouseLeaveHandler=$.proxy(this._onSideMouseLeave,this)),$(window).on("scroll",this._onScrollHandler=$.proxy(this._onScroll,this))))},unbind:function(){this._onMouseUpHandler&&(Window.element.off("mouseup",".fr-content",this._onMouseUpHandler),this._onMouseUpHandler=null,Window.element.off("click",".fr-container, .fr-thumbnails, .fr-thumbnails-wrapper",this._delegateOverlayCloseHandler),this._onMouseMoveHandler&&(Window._pages.off("mousemove",".fr-content",this._onMouseMoveHandler).off("mouseleave",".fr-content",this._onMouseLeaveHandler).off("mouseenter",".fr-content",this._onMouseEnterHandler),Window.element.off("mouseenter",".fr-side",this._onSideMouseEnterHandler).off("mouseleave",".fr-side",this._onSideMouseLeaveHandler),$(window).off("scroll",this._onScrollHandler),this._onMouseMoveHandler=null))},adjustPrevNext:function(e,i){var t,s=Pages.page;s&&(t=this._previous.add(this._next),this._previous[(Window.mayPrevious()?"remove":"add")+"Class"]("fr-side-disabled"),this._next[(Window.mayNext()?"remove":"add")+"Class"]("fr-side-disabled"),t[(s._total<2?"add":"remove")+"Class"]("fr-side-hidden")),e&&e()},_onScroll:function(){this._scrollLeft=$(window).scrollLeft()},_delegateOverlayClose:function(e){var i=Pages.page;i&&i.view.options.overlay&&!i.view.options.overlay.close||$(e.target).is(".fr-container, .fr-thumbnails, .fr-thumbnails-wrapper")&&(e.preventDefault(),e.stopPropagation(),Window.hide())},_onMouseMove:function(e){if(!Support.mobileTouch){var i=this._getEventSide(e),e=_.String.capitalize(i),e=!!i&&Window["may"+e]();if((i=1===Pages.pages.length||Pages.page&&"close"===Pages.page.view.options.onClick?!1:i)!==this._hoveringSide||e!==this._mayClickHoveringSide)if(this._hoveringSide=i,this._mayClickHoveringSide=e,i)switch(Window._box[(e?"add":"remove")+"Class"]("fr-hovering-clickable"),i){case"previous":Window._box.addClass("fr-hovering-previous").removeClass("fr-hovering-next");break;case"next":Window._box.addClass("fr-hovering-next").removeClass("fr-hovering-previous")}else Window._box.removeClass("fr-hovering-clickable fr-hovering-previous fr-hovering-next")}},_onMouseLeave:function(e){Window._box.removeClass("fr-hovering-clickable fr-hovering-previous fr-hovering-next"),this._hoveringSide=!1},_onMouseUp:function(e){var i;1<e.which||!$(e.target).is(UI._validClickTargetSelector)||(1===Pages.pages.length||Pages.page&&"close"===Pages.page.view.options.onClick?Window.hide():(i=this._getEventSide(e),Window[i](),this._onMouseMove(e)))},_onMouseEnter:function(e){this._onMouseMove(e)},_getEventSide:function(e){return-1<this._scrollLeft?this._scrollLeft:this._scrollLeft=$(window).scrollLeft(),e.pageX-Window._boxPosition.left-this._scrollLeft<.5*Window._boxDimensions.width?"previous":"next"},show:function(){Browser.IE&&Browser.IE<=7&&this._previous.add(this._next).add(this._close).show()},hide:function(){},_onSideMouseEnter:function(e){this._hoveringSideButton=!0,this._hoveringSide=this._getEventSide(e),this._mayClickHoveringSide=Window["may"+_.String.capitalize(this._hoveringSide)]()},_onSideMouseLeave:function(e){this._hoveringSideButton=!1,this._hoveringSide=!1,this._mayClickHoveringSide=!1},clearTimer:function(){}},$(document).ready(function(e){_Fresco.initialize()}),Fresco},"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):a.Fresco=b(jQuery),Gj=function(d){"use strict";function t(e,i){var t=this;t.element=e,t.$element=d(e),t.state={multiple:!!t.$element.attr("multiple"),enabled:!1,opened:!1,currValue:-1,selectedIdx:-1,highlightedIdx:-1},t.eventTriggers={open:t.open,close:t.close,destroy:t.destroy,refresh:t.refresh,init:t.init},t.init(i)}var i=d(document),n=d(window),h="selectric",s=".sl",o=["a","e","i","o","u","n","c","y"],a=[/[\xE0-\xE5]/g,/[\xE8-\xEB]/g,/[\xEC-\xEF]/g,/[\xF2-\xF6]/g,/[\xF9-\xFC]/g,/[\xF1]/g,/[\xE7]/g,/[\xFD-\xFF]/g];t.prototype={utils:{isMobile:function(){return/android|ip(hone|od|ad)/i.test(navigator.userAgent)},escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},replaceDiacritics:function(e){for(var i=a.length;i--;)e=e.toLowerCase().replace(a[i],o[i]);return e},format:function(e){var s=arguments;return(""+e).replace(/\{(?:(\d+)|(\w+))\}/g,function(e,i,t){return t&&s[1]?s[1][t]:s[i]})},nextEnabledItem:function(e,i){for(;e[i=(i+1)%e.length].disabled;);return i},previousEnabledItem:function(e,i){for(;e[i=(0<i?i:e.length)-1].disabled;);return i},toDash:function(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(e,i){var t=i.element,s=i.options["on"+e],i=[t].concat([].slice.call(arguments).slice(1));d.isFunction(s)&&s.apply(t,i),d(t).trigger(h+"-"+this.toDash(e),i)},arrayToClassname:function(e){e=d.grep(e,function(e){return!!e});return d.trim(e.join(" "))}},init:function(e){var i,t,s,n,o,a,r=this;r.options=d.extend(!0,{},d.fn[h].defaults,r.options,e),r.utils.triggerCallback("BeforeInit",r),r.destroy(!0),r.options.disableOnMobile&&r.utils.isMobile()?r.disableOnMobile=!0:(r.classes=r.getClassNames(),i=d("<input/>",{class:r.classes.input,readonly:r.utils.isMobile()}),t=d("<div/>",{class:r.classes.items,tabindex:-1}),s=d("<div/>",{class:r.classes.scroll}),n=d("<div/>",{class:r.classes.prefix,html:r.options.arrowButtonMarkup}),o=d("<span/>",{class:"label"}),a=r.$element.wrap("<div/>").parent().append(n.prepend(o),t,i),e=d("<div/>",{class:r.classes.hideselect}),r.elements={input:i,items:t,itemsScroll:s,wrapper:n,label:o,outerWrapper:a},r.options.nativeOnMobile&&r.utils.isMobile()&&(r.elements.input=void 0,e.addClass(r.classes.prefix+"-is-native"),r.$element.on("change",function(){r.refresh()})),r.$element.on(r.eventTriggers).wrap(e),r.originalTabindex=r.$element.prop("tabindex"),r.$element.prop("tabindex",-1),r.populate(),r.activate(),r.utils.triggerCallback("Init",r))},activate:function(){var e=this,i=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow),t=e.$element.width();i.removeClass(e.classes.tempshow),e.utils.triggerCallback("BeforeActivate",e),e.elements.outerWrapper.prop("class",e.utils.arrayToClassname([e.classes.wrapper,e.$element.prop("class").replace(/\S+/g,e.classes.prefix+"-$&"),e.options.responsive?e.classes.responsive:""])),e.options.inheritOriginalWidth&&0<t&&e.elements.outerWrapper.width(t),e.unbindEvents(),e.$element.prop("disabled")?(e.elements.outerWrapper.addClass(e.classes.disabled),e.elements.input&&e.elements.input.prop("disabled",!0)):(e.state.enabled=!0,e.elements.outerWrapper.removeClass(e.classes.disabled),e.$li=e.elements.items.removeAttr("style").find("li"),e.bindEvents()),e.utils.triggerCallback("Activate",e)},getClassNames:function(){var s=this,n=s.options.customClass,o={};return d.each("Input Items Open Disabled TempShow HideSelect Wrapper Focus Hover Responsive Above Below Scroll Group GroupLabel".split(" "),function(e,i){var t=n.prefix+i;o[i.toLowerCase()]=n.camelCase?t:s.utils.toDash(t)}),o.prefix=n.prefix,o},setLabel:function(){var i,e,t=this,s=t.options.labelBuilder;t.state.multiple?(e=0===(e=d.isArray(t.state.currValue)?t.state.currValue:[t.state.currValue]).length?[0]:e,i=d.map(e,function(i){return d.grep(t.lookupItems,function(e){return e.index===i})[0]}),i=d.grep(i,function(e){return 1<i.length||0===i.length?""!==d.trim(e.value):e}),i=d.map(i,function(e){return d.isFunction(s)?s(e):t.utils.format(s,e)}),t.options.multiple.maxLabelEntries&&(i.length>=t.options.multiple.maxLabelEntries+1?(i=i.slice(0,t.options.multiple.maxLabelEntries)).push(d.isFunction(s)?s({text:"..."}):t.utils.format(s,{text:"..."})):i.slice(i.length-1)),t.elements.label.html(i.join(t.options.multiple.separator))):(e=t.lookupItems[t.state.currValue],t.elements.label.html(d.isFunction(s)?s(e):t.utils.format(s,e)))},populate:function(){var s=this,e=s.$element.children(),i=s.$element.find("option"),t=i.filter(":selected"),n=i.index(t),o=0,i=s.state.multiple?[]:0;1<t.length&&s.state.multiple&&(n=[],t.each(function(){n.push(d(this).index())})),s.state.currValue=~n?n:i,s.state.selectedIdx=s.state.currValue,s.state.highlightedIdx=s.state.currValue,s.items=[],s.lookupItems=[],e.length&&(e.each(function(e){var t,i=d(this);i.is("optgroup")?(t={element:i,label:i.prop("label"),groupDisabled:i.prop("disabled"),items:[]},i.children().each(function(e){var i=d(this);t.items[e]=s.getItemData(o,i,t.groupDisabled||i.prop("disabled")),s.lookupItems[o]=t.items[e],o++}),s.items[e]=t):(s.items[e]=s.getItemData(o,i,i.prop("disabled")),s.lookupItems[o]=s.items[e],o++)}),s.setLabel(),s.elements.items.append(s.elements.itemsScroll.html(s.getItemsMarkup(s.items))))},getItemData:function(e,i,t){return{index:e,element:i,value:i.val(),className:i.prop("class"),text:i.html(),slug:d.trim(this.utils.replaceDiacritics(i.html())),alt:i.attr("data-alt"),selected:i.prop("selected"),disabled:t}},getItemsMarkup:function(e){var t=this,s="<ul>";return d.isFunction(t.options.listBuilder)&&t.options.listBuilder&&(e=t.options.listBuilder(e)),d.each(e,function(e,i){void 0!==i.label?(s+=t.utils.format('<ul class="{1}"><li class="{2}">{3}</li>',t.utils.arrayToClassname([t.classes.group,i.groupDisabled?"disabled":"",i.element.prop("class")]),t.classes.grouplabel,i.element.prop("label")),d.each(i.items,function(e,i){s+=t.getItemMarkup(i.index,i)}),s+="</ul>"):s+=t.getItemMarkup(i.index,i)}),s+"</ul>"},getItemMarkup:function(e,i){var t=this,s=t.options.optionsItemBuilder,n={value:i.value,text:i.text,slug:i.slug,index:i.index};return t.utils.format('<li data-index="{1}" class="{2}">{3}</li>',e,t.utils.arrayToClassname([i.className,e===t.items.length-1?"last":"",i.disabled?"disabled":"",i.selected?"selected":""]),d.isFunction(s)?t.utils.format(s(i,this.$element,e),i):t.utils.format(s,n))},unbindEvents:function(){this.elements.wrapper.add(this.$element).add(this.elements.outerWrapper).add(this.elements.input).off(s)},bindEvents:function(){var o=this;o.elements.outerWrapper.on("mouseenter.sl mouseleave.sl",function(e){d(this).toggleClass(o.classes.hover,"mouseenter"===e.type),o.options.openOnHover&&(clearTimeout(o.closeTimer),"mouseleave"===e.type?o.closeTimer=setTimeout(d.proxy(o.close,o),o.options.hoverIntentTimeout):o.open())}),o.elements.wrapper.on("click.sl",function(e){o.state.opened?o.close():o.open(e)}),o.options.nativeOnMobile&&o.utils.isMobile()||(o.$element.on("focus.sl",function(){o.elements.input.focus()}),o.elements.input.prop({tabindex:o.originalTabindex,disabled:!1}).on("keydown.sl",d.proxy(o.handleKeys,o)).on("focusin.sl",function(e){o.elements.outerWrapper.addClass(o.classes.focus),o.elements.input.one("blur",function(){o.elements.input.blur()}),o.options.openOnFocus&&!o.state.opened&&o.open(e)}).on("focusout.sl",function(){o.elements.outerWrapper.removeClass(o.classes.focus)}).on("input propertychange",function(){var e=o.elements.input.val(),n=new RegExp("^"+o.utils.escapeRegExp(e),"i");clearTimeout(o.resetStr),o.resetStr=setTimeout(function(){o.elements.input.val("")},o.options.keySearchTimeout),e.length&&d.each(o.items,function(e,i){if(!i.disabled){if(n.test(i.text)||n.test(i.slug))return o.highlight(e),!1;if(i.alt)for(var t=i.alt.split("|"),s=0;s<t.length&&t[s];s++)if(n.test(t[s].trim()))return o.highlight(e),!1}})})),o.$li.on({mousedown:function(e){e.preventDefault(),e.stopPropagation()},click:function(){return o.select(d(this).data("index")),!1}})},handleKeys:function(e){var i=this,t=e.which,s=i.options.keys,n=-1<d.inArray(t,s.previous),o=-1<d.inArray(t,s.next),a=-1<d.inArray(t,s.select),r=-1<d.inArray(t,s.open),h=i.state.highlightedIdx,l=n&&0===h||o&&h+1===i.items.length,s=0;if(13!==t&&32!==t||e.preventDefault(),n||o){if(!i.options.allowWrap&&l)return;n&&(s=i.utils.previousEnabledItem(i.lookupItems,h)),o&&(s=i.utils.nextEnabledItem(i.lookupItems,h)),i.highlight(s)}if(a&&i.state.opened)return i.select(h),void(i.state.multiple&&i.options.multiple.keepMenuOpen||i.close());r&&!i.state.opened&&i.open()},refresh:function(){this.populate(),this.activate(),this.utils.triggerCallback("Refresh",this)},setOptionsDimensions:function(){var e=this,i=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow),t=e.options.maxHeight,s=e.elements.items.outerWidth(),n=e.elements.wrapper.outerWidth()-(s-e.elements.items.width());!e.options.expandToItemText||s<n?e.finalWidth=n:(e.elements.items.css("overflow","scroll"),e.elements.outerWrapper.width(9e4),e.finalWidth=e.elements.items.width(),e.elements.items.css("overflow",""),e.elements.outerWrapper.width("")),e.elements.items.width(e.finalWidth).height()>t&&e.elements.items.height(t),i.removeClass(e.classes.tempshow)},isInViewport:function(){var e,i,t,s=this;!0===s.options.forceRenderAbove?s.elements.outerWrapper.addClass(s.classes.above):!0===s.options.forceRenderBelow?s.elements.outerWrapper.addClass(s.classes.below):(t=n.scrollTop(),i=n.height(),i=(e=s.elements.outerWrapper.offset().top)+s.elements.outerWrapper.outerHeight()+s.itemsHeight<=t+i,t=e-s.itemsHeight>t,t=!(i=!i&&t),s.elements.outerWrapper.toggleClass(s.classes.above,i),s.elements.outerWrapper.toggleClass(s.classes.below,t))},detectItemVisibility:function(e){var i=this,t=i.$li.filter("[data-index]");i.state.multiple&&(e=d.isArray(e)&&0===e.length?0:e,e=d.isArray(e)?Math.min.apply(Math,e):e);var s=t.eq(e).outerHeight(),n=t[e].offsetTop,t=i.elements.itemsScroll.scrollTop(),e=n+2*s;i.elements.itemsScroll.scrollTop(e>t+i.itemsHeight?e-i.itemsHeight:n-s<t?n-s:t)},open:function(e){var n=this;if(n.options.nativeOnMobile&&n.utils.isMobile())return!1;n.utils.triggerCallback("BeforeOpen",n),e&&(e.preventDefault(),n.options.stopPropagation&&e.stopPropagation()),n.state.enabled&&(n.setOptionsDimensions(),d("."+n.classes.hideselect,"."+n.classes.open).children()[h]("close"),n.state.opened=!0,n.itemsHeight=n.elements.items.outerHeight(),n.itemsInnerHeight=n.elements.items.height(),n.elements.outerWrapper.addClass(n.classes.open),n.elements.input.val(""),e&&"focusin"!==e.type&&n.elements.input.focus(),setTimeout(function(){i.on("click.sl",d.proxy(n.close,n)).on("scroll.sl",d.proxy(n.isInViewport,n))},1),n.isInViewport(),n.options.preventWindowScroll&&i.on("mousewheel.sl DOMMouseScroll.sl","."+n.classes.scroll,function(e){var i=e.originalEvent,t=d(this).scrollTop(),s=0;"detail"in i&&(s=-1*i.detail),"wheelDelta"in i&&(s=i.wheelDelta),"wheelDeltaY"in i&&(s=i.wheelDeltaY),"deltaY"in i&&(s=-1*i.deltaY),(t===this.scrollHeight-n.itemsInnerHeight&&s<0||0===t&&0<s)&&e.preventDefault()}),n.detectItemVisibility(n.state.selectedIdx),n.highlight(n.state.multiple?-1:n.state.selectedIdx),n.utils.triggerCallback("Open",n))},close:function(){var e=this;e.utils.triggerCallback("BeforeClose",e),i.off(s),e.elements.outerWrapper.removeClass(e.classes.open),e.state.opened=!1,e.utils.triggerCallback("Close",e)},change:function(){var t=this;t.utils.triggerCallback("BeforeChange",t),t.state.multiple?(d.each(t.lookupItems,function(e){t.lookupItems[e].selected=!1,t.$element.find("option").prop("selected",!1)}),d.each(t.state.selectedIdx,function(e,i){t.lookupItems[i].selected=!0,t.$element.find("option").eq(i).prop("selected",!0)}),t.state.currValue=t.state.selectedIdx,t.setLabel(),t.utils.triggerCallback("Change",t)):t.state.currValue!==t.state.selectedIdx&&(t.$element.prop("selectedIndex",t.state.currValue=t.state.selectedIdx).data("value",t.lookupItems[t.state.selectedIdx].text),t.setLabel(),t.utils.triggerCallback("Change",t))},highlight:function(e){var i=this,t=i.$li.filter("[data-index]").removeClass("highlighted");i.utils.triggerCallback("BeforeHighlight",i),void 0===e||-1===e||i.lookupItems[e].disabled||(t.eq(i.state.highlightedIdx=e).addClass("highlighted"),i.detectItemVisibility(e),i.utils.triggerCallback("Highlight",i))},select:function(e){var i,t=this,s=t.$li.filter("[data-index]");t.utils.triggerCallback("BeforeSelect",t,e),void 0===e||-1===e||t.lookupItems[e].disabled||(t.state.multiple?(t.state.selectedIdx=d.isArray(t.state.selectedIdx)?t.state.selectedIdx:[t.state.selectedIdx],-1!==(i=d.inArray(e,t.state.selectedIdx))?t.state.selectedIdx.splice(i,1):t.state.selectedIdx.push(e),s.removeClass("selected").filter(function(e){return-1!==d.inArray(e,t.state.selectedIdx)}).addClass("selected")):s.removeClass("selected").eq(t.state.selectedIdx=e).addClass("selected"),t.state.multiple&&t.options.multiple.keepMenuOpen||t.close(),t.change(),t.utils.triggerCallback("Select",t,e))},destroy:function(e){var i=this;i.state&&i.state.enabled&&(i.elements.items.add(i.elements.wrapper).add(i.elements.input).remove(),e||i.$element.removeData(h).removeData("value"),i.$element.prop("tabindex",i.originalTabindex).off(s).off(i.eventTriggers).unwrap().unwrap(),i.state.enabled=!1)}},d.fn[h]=function(i){return this.each(function(){var e=d.data(this,h);e&&!e.disableOnMobile?"string"==typeof i&&e[i]?e[i]():e.init(i):d.data(this,h,new t(this,i))})},d.fn[h].defaults={onChange:function(e){d(e).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!1,nativeOnMobile:!0,openOnFocus:!0,openOnHover:!1,hoverIntentTimeout:500,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,allowWrap:!0,forceRenderAbove:!1,forceRenderBelow:!1,stopPropagation:!0,optionsItemBuilder:"{text}",labelBuilder:"{text}",listBuilder:!1,keys:{previous:[37,38],next:[39,40],select:[9,13,27],open:[13,32,37,38,39,40],close:[9,27]},customClass:{prefix:h,camelCase:!1},multiple:{separator:", ",keepMenuOpen:!0,maxLabelEntries:!1}}},"function"==typeof define&&define.amd?define(["jquery"],Gj):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),Gj(i),i}:Gj(jQuery),$(document).ready(function(){var s,n,o,a,h;function e(){$(".quantity").length&&$(".quantity").each(function(e){var i=$(this).find("input"),t=$(this).find(".quantity-arrow-plus"),s=$(this).find(".quantity-arrow-minus"),n=i.val();t.click(function(){n++,i.val(n),$("button.button").removeAttr("disabled"),0<n&&s.removeClass("disable"),i.attr("value",n),$('[name="update_cart"]').trigger("click"),$('[name="update_wishlist"]').trigger("click")}),s.click(function(){n--,i.val(n),$("button.button").removeAttr("disabled"),n<=0?s.addClass("disable"):s.removeClass("disable"),i.attr("value",n),$('[name="update_cart"]').trigger("click"),$('[name="update_wishlist"]').trigger("click")})})}$(".burger__button").length&&$(".burger__button").on("click",function(){$(".header__mobile-menu").fadeToggle(300),$(".header__mobile-fade").fadeToggle(300),$("body").toggleClass("body-lock")}),$(".products-filter").length&&($(".products-filter select").selectric(),$(".orderby").selectric()),$(".new-product .custom-slider-loop").length&&new Swiper(".new-product .custom-slider-loop",{slidesPerView:4,spaceBetween:19,observer:!0,observeParents:!0,lazy:!0,centeredSlides:!1,breakpoints:{1024:{slidesPerView:4,spaceBetween:20},768:{slidesPerView:3.5,spaceBetween:20},500:{slidesPerView:2.6,spaceBetween:20},440:{slidesPerView:2.2,spaceBetween:20},240:{slidesPerView:1.4,spaceBetween:10}}}),$(".best-product .custom-slider-loop").length&&new Swiper(".best-product .custom-slider-loop",{slidesPerView:4,spaceBetween:19,observer:!0,observeParents:!0,lazy:!0,centeredSlides:!1,breakpoints:{1024:{slidesPerView:4,spaceBetween:20},768:{slidesPerView:3.5,spaceBetween:20},500:{slidesPerView:2.6,spaceBetween:20},440:{slidesPerView:2.2,spaceBetween:20},240:{slidesPerView:1.4,spaceBetween:10}}}),$(".video-block__container").length&&new Swiper(".video-block__container",{slidesPerView:3,spaceBetween:30,loop:!0,lazy:!0,navigation:{nextEl:".about__video-block .next",prevEl:".about__video-block .prev"},breakpoints:{1024:{slidesPerView:3,spaceBetween:20},768:{slidesPerView:2.5,spaceBetween:20},500:{slidesPerView:2.2,spaceBetween:20},440:{slidesPerView:1.5,spaceBetween:20},240:{slidesPerView:1.2,spaceBetween:20}}}),$(".sertificate-block__container").length&&new Swiper(".sertificate-block__container",{slidesPerView:4,spaceBetween:30,loop:!1,lazy:!0,navigation:{nextEl:".about__sertificate-block .next",prevEl:".about__sertificate-block .prev"},breakpoints:{1024:{slidesPerView:3,spaceBetween:20},768:{slidesPerView:2.5,spaceBetween:20},500:{slidesPerView:2.2,spaceBetween:20},440:{slidesPerView:1.5,spaceBetween:20},240:{slidesPerView:1.2,spaceBetween:20}}}),$(".faq__content").length&&$(".faq__content .faq__triger").on("click",function(){$(this).closest(".faq__item").toggleClass("active"),$(this).closest(".faq__item").find(".faq__answer").fadeToggle(300)}),$(".woocommerce-checkout").length&&($("#billing_last_name_field").appendTo(".checkout__person"),$("#billing_first_name_field").appendTo(".checkout__person"),$("#billing_email_field").appendTo(".checkout__person"),$("#billing_phone_field").appendTo(".checkout__person"),$("#shipping_method").appendTo(".checkout__dostavka-select"),$("#billing_city_field").appendTo(".checkout__dostavka-select"),$("#billing_address_1_field").appendTo(".checkout__dostavka-select"),$("#house_field").appendTo(".checkout__dostavka-select"),$("#flat_field").appendTo(".checkout__dostavka-select"),$("#payment").appendTo(".checkout__pay-select"),$("#order_review").appendTo(".checkout__right-column"),$(".col2-set").appendTo(".checkout__pay-select"),$("#place_order").appendTo(".checkout__footer-btn")),$(".main-slider__list").length&&new Swiper(".main-slider__list",{slidesPerView:1,loop:!0,observer:!0,observeParents:!0,lazy:!0,navigation:{nextEl:".main-slider__next",prevEl:".main-slider__prev"}}),$(".main-category").length&&new Swiper(".main-category__container",{slidesPerView:4,spaceBetween:19,observer:!0,observeParents:!0,lazy:!0,centeredSlides:!1,navigation:{nextEl:".main-category__next",prevEl:".main-category__prev"},breakpoints:{1024:{slidesPerView:4,spaceBetween:20},768:{slidesPerView:3.5,spaceBetween:20},500:{slidesPerView:2.6,spaceBetween:20},440:{slidesPerView:2.2,spaceBetween:20},240:{slidesPerView:1.4,spaceBetween:10}}}),a=1100<=jQuery(window).width()?(s=56.79342,n=61.310791,o=56.793284,61.306063):(o=s=56.79342,n=61.310791),ymaps.ready(function(){var e=$(".uni-footer__map").data("icon"),i=new ymaps.Map("map",{center:[o,a],controls:[],zoom:17},{searchControlProvider:!0}),t=ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'),t=(new ymaps.Placemark(i.getCenter(),{},{iconImageHref:"",iconImageSize:[0,0]}),new ymaps.Placemark([s,n],{},{iconLayout:"default#imageWithContent",iconImageHref:e,iconImageSize:[72,87],iconImageOffset:[-40,-90],iconContentOffset:[15,15],iconContentLayout:t}));i.geoObjects.add(t)}),e(),$("body").bind("DOMSubtreeModified",function(){e()}),(h=window.jQuery).fn.replaceTagName=function(e){for(var i=[],t=this.length;t--;){for(var s=document.createElement(e),n=this[t],o=n.attributes,a=o.length-1;0<=a;a--){var r=o[a];s.setAttribute(r.name,r.value)}s.innerHTML=n.innerHTML,h(n).after(s).remove(),i[t]=s}return h(i)}});